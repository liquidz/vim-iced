<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.15">
<title>vim-iced</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
</head>
<body id="top" class="article toc2 toc-left">
<div id="header">
<h1>vim-iced</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_overview">1. Overview</a></li>
<li><a href="#_getting_started">2. Getting Started</a>
<ul class="sectlevel2">
<li><a href="#installation">2.1. Installation</a></li>
<li><a href="#quick_start">2.2. Quick start</a></li>
</ul>
</li>
<li><a href="#evaluation">3. Evaluation</a>
<ul class="sectlevel2">
<li><a href="#evaluation_ranges">3.1. Ranges</a></li>
<li><a href="#evaluation_results">3.2. Results</a></li>
<li><a href="#evaluation_marks">3.3. Marks</a></li>
<li><a href="#evaluation_yank">3.4. Yank</a></li>
</ul>
</li>
<li><a href="#completion">4. Completion</a>
<ul class="sectlevel2">
<li><a href="#omni_completion">4.1. Omni completion</a></li>
<li><a href="#auto_completion">4.2. Auto completion</a></li>
</ul>
</li>
<li><a href="#reference">5. Reference</a>
<ul class="sectlevel2">
<li><a href="#_docstring">5.1. Docstring</a></li>
<li><a href="#_clojuredocs">5.2. ClojureDocs</a></li>
<li><a href="#_source_code">5.3. Source code</a></li>
<li><a href="#_use_cases">5.4. Use cases</a></li>
<li><a href="#clojure_spec">5.5. clojure.spec</a></li>
</ul>
</li>
<li><a href="#navigation">6. Navigation</a>
<ul class="sectlevel2">
<li><a href="#_jump_to_definition">6.1. Jump to definition</a></li>
<li><a href="#_other_navigations">6.2. Other navigations</a></li>
</ul>
</li>
<li><a href="#macro">7. Macro</a>
<ul class="sectlevel2">
<li><a href="#_expand_expanded_macro">7.1. Expand expanded macro</a></li>
</ul>
</li>
<li><a href="#testing">8. Testing</a>
<ul class="sectlevel2">
<li><a href="#test_result">8.1. Test result</a></li>
<li><a href="#related_tests">8.2. Related tests</a></li>
<li><a href="#testing_checking_spec">8.3. Checking spec</a></li>
<li><a href="#testing_plain_nrepl">8.4. Testing on plain nREPL</a></li>
</ul>
</li>
<li><a href="#formatting">9. Formatting</a>
<ul class="sectlevel2">
<li><a href="#format_on_writing_files">9.1. Format on writing files</a></li>
<li><a href="#formatting_customize">9.2. Customize formatter </a></li>
<li><a href="#auto_indenting">9.3. Auto indenting</a></li>
</ul>
</li>
<li><a href="#debugging">10. Debugging</a>
<ul class="sectlevel2">
<li><a href="#_tracing_function_calls">10.1. Tracing function calls</a></li>
<li><a href="#_browsing_tapped_values">10.2. Browsing tapped values</a></li>
</ul>
</li>
<li><a href="#refactoring">11. Refactoring</a>
<ul class="sectlevel2">
<li><a href="#refactoring_namespace">11.1. Namespace</a></li>
<li><a href="#refactoring_function">11.2. Function</a></li>
<li><a href="#refactoring_form">11.3. Form</a></li>
<li><a href="#refactoring_symbol">11.4. Symbol</a></li>
</ul>
</li>
<li><a href="#sideloader">12. Sideloader</a>
<ul class="sectlevel2">
<li><a href="#_starting_sideloader">12.1. Starting sideloader</a></li>
<li><a href="#_stopping_sideloader">12.2. Stopping sideloader</a></li>
<li><a href="#_example">12.3. Example</a></li>
</ul>
</li>
<li><a href="#static_analysis">13. Static analysis</a>
<ul class="sectlevel2">
<li><a href="#static_analysis_clj_kondo">13.1. clj-kondo</a></li>
</ul>
</li>
<li><a href="#iced_command">14. iced command</a>
<ul class="sectlevel2">
<li><a href="#iced_supports">14.1. Supports</a></li>
<li><a href="#iced_usage">14.2. Usage</a></li>
<li><a href="#iced_command_advanced">14.3. Advanced</a></li>
</ul>
</li>
<li><a href="#clojurescript">15. ClojureScript</a>
<ul class="sectlevel2">
<li><a href="#clojurescript_figwheel_main">15.1. Figwheel-main</a></li>
<li><a href="#clojurescript_shadow_cljs">15.2. shadow-cljs</a></li>
</ul>
</li>
<li><a href="#skeleton">16. Skeleton</a>
<ul class="sectlevel2">
<li><a href="#skeleton_source_file">16.1. Source file</a></li>
<li><a href="#skeleton_test_file">16.2. Test file</a></li>
</ul>
</li>
<li><a href="#operator">17. Operator</a></li>
<li><a href="#editing_sexp">18. Editing S-expression</a></li>
<li><a href="#docker">19. Docker</a>
<ul class="sectlevel2">
<li><a href="#docker_example">19.1. Example</a></li>
</ul>
</li>
<li><a href="#command_palette">20. Command palette</a></li>
<li><a href="#_buffer">21. Buffer</a>
<ul class="sectlevel2">
<li><a href="#stdout_buffer">21.1. Stdout buffer</a></li>
<li><a href="#test_buffer">21.2. Test buffer</a></li>
<li><a href="#document_buffer">21.3. Document buffer</a></li>
</ul>
</li>
<li><a href="#configuration">22. Configuration</a>
<ul class="sectlevel2">
<li><a href="#configuration_evaluation">22.1. Evaluation</a></li>
<li><a href="#configuration_formatting">22.2. Formatting</a></li>
<li><a href="#hook">22.3. Hook</a></li>
<li><a href="#configuration_docker">22.4. Docker</a></li>
<li><a href="#configuration_command_palette">22.5. Command palette</a></li>
<li><a href="#configuration_advanced">22.6. Advanced settings</a></li>
</ul>
</li>
<li><a href="#tips">23. Tips</a>
<ul class="sectlevel2">
<li><a href="#tips_vim_submode">23.1. vim-submode</a></li>
<li><a href="#tips_auto_connection">23.2. Auto connection</a></li>
<li><a href="#tips_overwriting_mappings">23.3. Overwriting mappings</a></li>
<li><a href="#_reloaded_workflows">23.4. Reloaded workflows</a></li>
</ul>
</li>
<li><a href="#external_integration">24. External integration</a>
<ul class="sectlevel2">
<li><a href="#kaocha">24.1. kaocha</a></li>
</ul>
</li>
<li><a href="#socket_repl">25. Socket REPL</a>
<ul class="sectlevel2">
<li><a href="#_connecting_socket_repl">25.1. Connecting socket REPL</a></li>
<li><a href="#_connecting_prepl">25.2. Connecting pREPL</a></li>
</ul>
</li>
<li><a href="#developer">26. Developer</a>
<ul class="sectlevel2">
<li><a href="#minimal_configuration">26.1. Minimal configuration</a></li>
<li><a href="#testing_vim_iced">26.2. Testing vim-iced</a></li>
</ul>
</li>
<li><a href="#cheatsheet">27. Cheatsheet</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>
<a href="https://github.com/liquidz/vim-iced" class="github-corner" aria-label="View source on GitHub">
  <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
    <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
    <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
  </svg>
</a>
<style>
.github-corner { position: fixed; top: 0; right: 0; }
.github-corner:hover .octo-arm { animation:octocat-wave 560ms ease-in-out }
@keyframes octocat-wave { 0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)} }
@media (max-width:500px){ .github-corner:hover .octo-arm{ animation:none } .github-corner .octo-arm { animation:octocat-wave 560ms ease-in-out } }
</style>
</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">1. Overview</h2>
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="assets/logo.svg" alt="vim-iced logo" width="150">
</div>
</div>
<div class="paragraph">
<p><a href="https://github.com/liquidz/vim-iced">vim-iced</a> is a <a href="https://github.com/vim/vim">Vim8</a> / <a href="https://github.com/neovim/neovim">Neovim</a> plugin to provide a Clojure interactive development environment.</p>
</div>
<div class="paragraph">
<p>This project is heavily inspired by <a href="https://github.com/clojure-emacs/cider">CIDER</a>, and the goal of this project is to provide a Clojure development environment to Vim that is comparable(or more) to CIDER.</p>
</div>
<div class="paragraph">
<p>The assumption of "comparable to CIDER" varies from person to person.
Although it is subjective, I assume "comparable to CIDER" is that there is no obstacle to development <strong>at work</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started">2. Getting Started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="installation">2.1. Installation</h3>
<div class="paragraph">
<p>vim-iced itself and <a href="https://github.com/guns/vim-sexp">vim-sexp</a> are the minimal requirements.</p>
</div>
<div class="paragraph">
<p>In addition, if there is one of follows, you can use interactive UI for selecting one from multiple candidates (e.g. selecting a ns which you&#8217;d like to add)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/ctrlpvim/ctrlp.vim">ctrlp.vim</a></p>
</li>
<li>
<p><a href="https://github.com/junegunn/fzf">fzf</a></p>
</li>
<li>
<p><a href="https://github.com/liuchengxu/vim-clap">vim-clap</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If anything is okay, ctrlp.vim is easy to install and stable.</p>
</div>
<div class="sect3">
<h4 id="installing_plugins">2.1.1. Installing plugins</h4>
<div class="paragraph">
<p>At first, if you don&#8217;t have a plugin manager, please install <a href="https://github.com/junegunn/vim-plug">vim-plug</a>.</p>
</div>
<div class="listingblock">
<div class="title">vim</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>curl <span class="nt">-fLo</span> ~/.vim/autoload/plug.vim <span class="nt">--create-dirs</span> <span class="se">\</span>
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">neovim</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>curl <span class="nt">-fLo</span> ~/.local/share/nvim/site/autoload/plug.vim <span class="nt">--create-dirs</span> <span class="se">\</span>
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, add a vim-plug section to your <code>~/.vimrc</code> (or <code>~/.config/nvim/init.vim</code> for Neovim)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="c">" Specify a directory for plugins</span>
<span class="k">call</span> plug#begin<span class="p">(</span><span class="s1">'~/.vim/plugged'</span><span class="p">)</span>

<span class="c">" One of following</span>
Plug <span class="s1">'ctrlpvim/ctrlp.vim'</span>
Plug <span class="s1">'junegunn/fzf'</span>
Plug <span class="s1">'liuchengxu/vim-clap'</span>

<span class="c">" Requires</span>
Plug <span class="s1">'guns/vim-sexp'</span><span class="p">,</span>    <span class="p">{</span><span class="s1">'for'</span><span class="p">:</span> <span class="s1">'clojure'</span><span class="p">}</span>
Plug <span class="s1">'liquidz/vim-iced'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'for'</span><span class="p">:</span> <span class="s1">'clojure'</span><span class="p">}</span>

<span class="k">call</span> plug#end<span class="p">()</span>

<span class="c">" Enable vim-iced's default key mapping</span>
<span class="c">" This is recommended for newbies</span>
<span class="k">let</span> <span class="nv">g:iced_enable_default_key_mappings</span> <span class="p">=</span> <span class="k">v</span><span class="p">:</span>true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then start Vim/Neovim, and execute the following command to install dependent plugins.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="p">:</span>PlugInstall</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="installation_iced_command">2.1.2. iced command</h4>
<div class="paragraph">
<p><code>iced</code> is a a utility command to make you easy to use vim-iced, and it comes with vim-iced.
Setup is easy, just add the <code>bin</code> directory under the installed vim-iced directory to <code>$PATH</code> environmental variable.
With above vim-plug setting,  <code>~/.vim/plugged/vim-iced/bin</code> is the directory to add to <code>$PATH</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># For bash or zsh</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:~/.vim/plugged/vim-iced/bin

<span class="c"># For fish</span>
<span class="nv">$ </span><span class="nb">set</span> <span class="nt">-x</span> PATH ~/.vim/plugged/vim-iced/bin <span class="nv">$PATH</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To confirm setup, run the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>iced version</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="#iced_command">iced command</a> for more information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="quick_start">2.2. Quick start</h3>
<div class="paragraph">
<p>Let&#8217;s create a sample project for quick start.
Here <a href="https://github.com/technomancy/leiningen">Leiningen</a> is used to create a project template.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>lein new hello-iced
<span class="nv">$ </span><span class="nb">cd </span>hello-iced</code></pre>
</div>
</div>
<div class="paragraph">
<p>We use <code>iced</code> command to launch REPL instead of <code>lein</code> command.
This allows <code>iced</code> command to take care of all the additional libraries and REPL settings you need.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>iced repl</code></pre>
</div>
</div>
<div class="paragraph">
<p>Open vim and execute <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedConnect">IcedConnect</a> command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>vim src/hello_iced/core.clj</code></pre>
</div>
</div>
<div class="paragraph">
<p>You succeeded to connect REPL if you see "Connected" message, so let&#8217;s execute the next command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="p">:</span>IcedEval <span class="p">(+</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Do you see <code>15</code> as a result?
If so, your vim has started working with Clojure&#8217;s REPL finally!</p>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="evaluation">3. Evaluation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The evaluation of S-expression is the most important element in REPL driven development.</p>
</div>
<div class="sect2">
<h3 id="evaluation_ranges">3.1. Ranges</h3>
<div class="paragraph">
<p>There are 3 main ranges to evaluation in vim-iced.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>inner element</p>
</li>
<li>
<p>outer list</p>
</li>
<li>
<p>outer top list</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the following figure for the concrete ranges.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/evaluation_range.png" alt="Evaluation range">
</div>
</div>
<div class="paragraph">
<p>If you enable default key mappings, following key mappings are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Default key mappings</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div id="evaluate_inner_element" class="paragraph">
<p>inner element</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Leader&gt;ei</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div id="evaluate_outer_list" class="paragraph">
<p>outer list</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Leader&gt;ee</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div id="evaluate_outer_top_list" class="paragraph">
<p>outer top list</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Leader&gt;et</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="https://liquidz.github.io/vim-iced/vim-iced.html#vim-iced-customizing-default-keys">help file</a> for other default key mappings.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See also <a href="#eval_inside_comment">Eval inside comment</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="evaluation_results">3.2. Results</h3>
<div class="paragraph">
<p>The evaluation result is echoed on command-line and displayed in a popup at the end of line.
However, the displayed result is only the returned value, so for example, the contents output by <code>println</code> are not diplayed.</p>
</div>
<div class="paragraph">
<p>The contents output to standard output are displayed on the <a href="#stdout_buffer">Stdout buffer</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="evaluation_marks">3.3. Marks</h3>
<div class="paragraph">
<p>vim-iced also provides ways to evaluate forms by Vim&#8217;s <a href="https://vim-jp.org/vimdoc-en/motion.html#mark-motions">mark</a>.
This feature is implemented by <a href="https://github.com/Olical/conjure">Conjure</a> originally.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedEvalAtMark">IcedEvalAtMark</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ea</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evaluate the outer list <strong>(not outer top list)</strong> on the specified mark.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Type a key to specify the mark after executing this command.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedEvalLastOuterTopList">IcedEvalLastOuterTopList</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;el</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Re-evaluate the outer top list which is evaluated last.<br>
Last evaluated list is marked to <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23eval%23mark_at_last">g:iced#eval#mark_at_last</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example, when you have a mark <code>m</code> on any position, <code>&lt;Leader&gt;eam</code> will evaluate the outer list on the mark <code>m</code> from any position.</p>
</div>
</div>
<div class="sect2">
<h3 id="evaluation_yank">3.4. Yank</h3>
<div class="paragraph">
<p>The evaluated result is basically just displayed.
When you specify a <code>register</code> like <a href="https://vim-jp.org/vimdoc-en/change.html#y">yank</a>,
<a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3CPlug%3E%28iced_eval%29">&lt;Plug&gt;(iced_eval)</a> operator will yank the result.</p>
</div>
<div class="paragraph">
<p>E.g. <code>"x&lt;Leader&gt;ee</code> will yank a result to register <code>x</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Yanking to <code>"</code> register is skipped for now.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you&#8217;d like to define a custom mapping, try below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="c">" mapping for "xee</span>
nmap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;</span> ee <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_eval<span class="p">)&lt;</span>Plug<span class="p">&gt;(</span>sexp_outer_list<span class="p">)</span>``</code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="completion">4. Completion</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="omni_completion">4.1. Omni completion</h3>
<div class="paragraph">
<p>vim-iced provides only omni completion.
It is set to <a href="https://vim-jp.org/vimdoc-en/options.html#'omnifunc'">omnifunc</a> for <code>clojure</code> filetype automatically by default.</p>
</div>
<div class="paragraph">
<p>Vim has a <a href="https://vim-jp.org/vimdoc-en/insert.html#i_CTRL-X_CTRL-O">&lt;C-x&gt;&lt;C-o&gt;</a> key mapping for omni completion.</p>
</div>
<div class="listingblock">
<div class="title">Example ( means cursor position)</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">prin</span><span class="err"></span><span class="p">)</span><span class="w">    </span><span class="c1">;; Type `&lt;C-x&gt;&lt;C-o&gt;` to show omni completion</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="auto_completion">4.2. Auto completion</h3>
<div class="paragraph">
<p>vim-iced itself does not provide any auto completion methods.</p>
</div>
<div class="paragraph">
<p>However, the following completion plugins are supported as external plugins.</p>
</div>
<div class="sect3">
<h4 id="_asyncomplete_vim">4.2.1. asyncomplete.vim</h4>
<div class="paragraph">
<p><a href="https://github.com/prabirshrestha/asyncomplete.vim">asyncomplete.vim</a> is a async completion plugin in pure vim script for Vim8 and Neovim,
and <a href="https://github.com/liquidz/vim-iced-asyncomplete">vim-iced-asyncomplete</a> is a vim-iced plugin to work with this plugin.</p>
</div>
<div class="paragraph">
<p>To use <code>vim-iced-asyncomplete</code>, add followings to <code>vim-plug</code> section in your <code>~/.vimrc</code> (or <code>~/.config/nvim/init.vim</code> for Neovim)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim">Plug <span class="s1">'prabirshrestha/asyncomplete.vim'</span>
Plug <span class="s1">'liquidz/vim-iced'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'for'</span><span class="p">:</span> <span class="s1">'clojure'</span><span class="p">}</span>
Plug <span class="s1">'liquidz/vim-iced-asyncomplete'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'for'</span><span class="p">:</span> <span class="s1">'clojure'</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_coc_nvim">4.2.2. coc.nvim</h4>
<div class="paragraph">
<p><a href="https://github.com/neoclide/coc.nvim">coc.nvim</a> is a intellisense engine for Vim8 and Neovim,
and <a href="https://github.com/liquidz/vim-iced-coc-source">vim-iced-coc-source</a> is a vim-iced plugin to work this plugin.</p>
</div>
<div class="paragraph">
<p>To use <code>vim-iced-coc-source</code>, do following installation steps.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Install coc.nvim (<a href="https://github.com/neoclide/coc.nvim/wiki/Install-coc.nvim">here</a> is the installation step)</p>
</li>
<li>
<p>Add followings to <code>vim-plug</code> section in your <code>~/.vimrc</code> (or <code>~/.config/nvim/init.vim</code> for Neovim)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Plug 'liquidz/vim-iced', {'for': 'clojure'}
Plug 'liquidz/vim-iced-coc-source', {'for': 'clojure'}</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the following definition to your <code>coc-settings.json</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "coc.source.iced.enable": true
}</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_compe_nvim">4.2.3. compe-nvim</h4>
<div class="paragraph">
<p><a href="https://github.com/hrsh7th/nvim-compe">nvim-compe</a> is next generation completion plugin for written in lua and vim script for Vim8 and Neovim and
<a href="https://github.com/tami5/vim-iced-compe">vim-iced-compe</a> is a vim-iced plugin to
work with this plugin</p>
</div>
<div class="paragraph">
<p>To use <code>vim-iced-compe</code> add followings to <code>vim-plug</code> section in your <code>~/.vimrc</code> (or <code>~/.config/nvim/init.vim</code> for Neovim)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim">Plug <span class="s1">'hrsh7th/nvim-compe'</span>
Plug <span class="s1">'liquidz/vim-iced'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'for'</span><span class="p">:</span> <span class="s1">'clojure'</span><span class="p">}</span>
Plug <span class="s1">'tami5/vim-iced-compe'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'for'</span><span class="p">:</span> <span class="s1">'clojure'</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reference">5. Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_docstring">5.1. Docstring</h3>
<div class="paragraph">
<p>There are two ways (explicit and implicit) to refer to a var&#8217;s docstring.</p>
</div>
<div class="paragraph">
<p>The explicit way is to execute one of the following commands.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedDocumentPopupOpen">IcedDocumentPopupOpen</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">K</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows the docstring for the var under the cursor in a popup window.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedDocumentOpen">IcedDocumentOpen</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opens a <a href="#document_buffer">Document buffer</a>, and shows the docstring in it.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The implicit way is the Auto Document feature.
This feature will automatically display a one-line documentation string on the right of cursor line.
This will be done by <a href="https://vim-jp.org/vimdoc-en/autocmd.html#CursorMoved">CursorMoved</a> / <a href="https://vim-jp.org/vimdoc-en/autocmd.html#CursorMovedI">CursorMovedI</a> auto command and <a href="https://vim-jp.org/vimdoc-en/eval.html#timer">timer</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_auto_document">g:iced_enable_auto_document</a>: Enable auto document feature.</p>
</li>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23nrepl%23auto%23document_delay">g:iced#nrepl#auto#document_delay</a>: Define delay time for displaying auto document.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_clojuredocs">5.2. ClojureDocs</h3>
<div class="paragraph">
<p><a href="https://clojuredocs.org">ClojureDocs</a> is a community-powered documentation and examples repository for the Clojure programming language.
Vim-iced can display ClojureDocs reference information for a provided search term or the symbol under the cursor. It opens a temporary
window split which can be closed with <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedDocumentClose">IcedDocumentClose</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedClojureDocsOpen">IcedClojureDocsOpen</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;hc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open a window, and show documents for the symbol under the cursor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedClojureDocsRefresh">IcedClojureDocsRefresh</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IcedClojureDocsOpen</code> will create a cache file on your local machine.<br>
If you get an out of date result, you can refresh the cache file with this command.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_clojuredocs_on_clojurescript">5.2.1. ClojureDocs on ClojureScript</h4>
<div class="paragraph">
<p>ClojureDocs does not have docs for ClojureScript currently.</p>
</div>
<div class="paragraph">
<p>But if you would like to use Clojure documentation instead of ClojureScript,
you can use it by enabling <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23clojuredocs%23use_clj_docs_on_cljs">g:iced#clojuredocs#use_clj_docs_on_cljs</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_source_code">5.3. Source code</h3>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedSourceShow">IcedSourceShow</a> or <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedSourcePopupShow">IcedSourcePopupShow</a> is useful when you would like to refer to the source code itself. The keyboard shortcuts will show the source code for the symbol under the cursor, the commands can be used to search for the source code of any symbol that&#8217;s provided.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedSourcePopupShow">IcedSourcePopupShow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;hs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows the source code in a popup window.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedSourceShow">IcedSourceShow</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;hS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opens a separate buffer(<a href="#document_buffer">Document buffer</a>) and shows the source code in it.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_enhanced_source_extraction">5.3.1. Enhanced source extraction</h4>
<div class="paragraph">
<p>If <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_enhanced_definition_extraction">g:iced_enable_enhanced_definition_extraction</a> is true, vim-iced enable enhanced source extraction.
This feature is enabled by default.</p>
</div>
<div class="paragraph">
<p>The difference from normal extraction is to extract source by not only <code>def</code> and <code>defn</code> but also <code>let</code> form.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><a href="https://github.com/borkdude/jet">borkdude/jet</a> is required currently.<br>
vim-iced will offer to download <code>jet</code> automatically then the command is run.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_use_cases">5.4. Use cases</h3>
<div class="paragraph">
<p>Sometimes, it is useful to know how a function is used elsewhere.
<a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedUseCaseOpen">IcedUseCaseOpen</a> command is for that.</p>
</div>
<div class="paragraph">
<p><code>IcedUseCaseOpen</code> will open a separated buffer, and show the first usecase if it is found.
When there are several usecases, <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedNextUseCase">IcedNextUseCase</a> and <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedPrevUseCase">IcedPrevUseCase</a> commands switch the shown usecase.</p>
</div>
</div>
<div class="sect2">
<h3 id="clojure_spec">5.5. clojure.spec</h3>
<div class="paragraph">
<p>vim-iced provides following commands to integrate with <a href="https://clojure.org/guides/spec">clojure.spec</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBrowseSpec">IcedBrowseSpec</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;bs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Browse specs, and show spec form in <a href="#document_buffer">Document buffer</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedSpecForm">IcedSpecForm</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open a <a href="#document_buffer">Document buffer</a>, and show the spec form for specified keyword.<br>
If no arguments are passed, the keyword under the cursor is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedSpecExample">IcedSpecExample</a></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open a <a href="#document_buffer">Document buffer</a>, and show the example of the spec.<br>
If no arguments are passed, the keyword under the cursor is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestSpecCheck">IcedTestSpecCheck</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See <a href="#testing_checking_spec">Checking spec</a> for more information</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Unresolved directive in reference.adoc - include::reference/javadoc.adoc[]</p>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="navigation">6. Navigation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_jump_to_definition">6.1. Jump to definition</h3>
<div class="paragraph">
<p>vim-iced provides <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedDefJump">IcedDefJump</a> command for jumping to definition.</p>
</div>
<div class="paragraph">
<p>It supports jumping to qualified keywords and local vars, can also specify using split window, tab, or other ways to open target location.</p>
</div>
<div class="paragraph">
<p>If you jumped to a definition with above command, vim-iced add the current cursor position to Vim&#8217;s <a href="https://vim-jp.org/vimdoc-en/tagsrch.html#tagstack">tag stack</a>.
So you can go back easily with <a href="https://vim-jp.org/vimdoc-en/tagsrch.html#CTRL-T">&lt;C-t&gt;</a>.</p>
</div>
<div class="paragraph">
<p>See also <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23navigate%23prefer_local_jump">g:iced#navigate#prefer_local_jump</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_other_navigations">6.2. Other navigations</h3>
<div class="sect3">
<h4 id="navigation_source_and_test">6.2.1. Source and test</h4>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedCycleSrcAndTest">IcedCycleSrcAndTest</a> will cycle source file and test file for current namespace.</p>
</div>
<div class="paragraph">
<p>For example, when you are in <code>foo.core</code>, <code>IcedCycleSrcAndTest</code> command will open the file which has <code>foo.core-test</code> namespace.
If there is no corresponding file, vim-iced suggests pseudo file path to create new namespace.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cross_reference">6.2.2. Cross reference</h4>
<div class="paragraph">
<p>To browse positions referencing/depending on the form under cursor, following commands are useful.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBrowseReferences">IcedBrowseReferences</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;br</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBrowseVarDependencies">IcedBrowseVarDependencies</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;bd</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_related_namespaces">6.2.3. Related namespaces</h4>
<div class="paragraph">
<p>Such as <code>foo.handler.home</code> and <code>foo.view.home</code>, there are likely to have related namespaces in web applications.</p>
</div>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBrowseRelatedNamespace">IcedBrowseRelatedNamespace</a> is useful to jump in these related namespaces.</p>
</div>
</div>
<div class="sect3">
<h4 id="_test_cases">6.2.4. Test cases</h4>
<div class="paragraph">
<p>Sometimes you may want to jump to the test code that corresponds to a specific var.</p>
</div>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBrowseTestUnderCursor">IcedBrowseTestUnderCursor</a> command will search test functions that contains the var name in its test name.</p>
</div>
</div>
<div class="sect3">
<h4 id="_let_form">6.2.5. let form</h4>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedJumpToLet">IcedJumpToLet</a> allows you to jump cursor to the nearest <code>let</code> form.</p>
</div>
<div class="paragraph">
<p>If <code>let</code> form is not found in current top list, cursor is not moved.
Default key is mapped to <code>&lt;Leader&gt;jl</code>.</p>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="macro">7. Macro</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Expanding macro is important for writing/debugging macros.
vim-iced provides following two commands.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedMacroExpand1OuterList">IcedMacroExpand1OuterList</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;em</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedMacroExpandOuterList">IcedMacroExpandOuterList</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;eM</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These commands will open a separated buffer, and show expanded result in it.
<code>IcedMacroExpand1OuterList</code> will show the result of expanding once, while <code>IcedMacroExpandOuterList</code> will show the all expanded result.</p>
</div>
<div class="sect2">
<h3 id="_expand_expanded_macro">7.1. Expand expanded macro</h3>
<div class="paragraph">
<p>As you know, <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedMacroExpand1OuterList">IcedMacroExpand1OuterList</a> will show the result of expanding <strong>once</strong>.</p>
</div>
<div class="paragraph">
<p>In the separated buffer for expanding macro, you can use <code>IcedMacroExpand1OuterList</code> command and its <code>&lt;Leader&gt;em</code> key mapping again.
This means you can expand the expanded macro additionally.</p>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing">8. Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vim-iced can integrate with <a href="https://clojure.github.io/clojure/clojure.test-api.html">clojure.test</a>, and provides following test commands.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestAll">IcedTestAll</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;tp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run all tests in current project</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestNs">IcedTestNs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;tn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run tests in current namespace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestUnderCursor">IcedTestUnderCursor</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Leader&gt;tt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run a test under cursor<br>
See also <a href="#related_tests">Related tests</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestRedo">IcedTestRedo</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Leader&gt;tr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Re run <strong>failed</strong> tests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestRerunLast">IcedTestRerunLast</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;Leader&gt;tl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run the last test again</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="test_result">8.1. Test result</h3>
<div class="paragraph">
<p>When tests are failed, vim-iced show error messages in <a href="#test_buffer">Test buffer</a>,
and <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestBufferOpen">IcedTestBufferOpen</a> command open the buffer.</p>
</div>
<div class="paragraph">
<p>vim-iced also set error positions to <a href="https://vim-jp.org/vimdoc-en/quickfix.html">quickfix</a>,
and <a href="https://vim-jp.org/vimdoc-en/quickfix.html#:cwindow">:cwindow</a> command enables you to show this information.
This is useful to jump each failed tests.</p>
</div>
</div>
<div class="sect2">
<h3 id="related_tests">8.2. Related tests</h3>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestUnderCursor">IcedTestUnderCursor</a> is not just running a test under cursor.</p>
</div>
<div class="paragraph">
<p>If the var under cursor does not contain <code>:test</code> metadata and current namespace doesn&#8217;t end with "-test",
vim-iced searches test vars in corresponding test namespace (c.f. <a href="#navigation_source_and_test">Source and test</a>) and run them.
Target test vars should include original var name in its name.</p>
</div>
</div>
<div class="sect2">
<h3 id="testing_checking_spec">8.3. Checking spec</h3>
<div class="paragraph">
<p>There is also <a href="https://clojure.org/guides/spec#_testing">checking spec</a> as one of the tests.</p>
</div>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestSpecCheck">IcedTestSpecCheck</a> command is useful to run <code>clojure.spec.test.alpha/check</code> for the function under cursor.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Adding <a href="https://github.com/clojure/test.check">test.check</a> dependency is required.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can specify the number of tests as a command argument,
or <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23test%23spec_num_tests">g:iced#test#spec_num_tests</a> variable.</p>
</div>
</div>
<div class="sect2">
<h3 id="testing_plain_nrepl">8.4. Testing on plain nREPL</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><a href="https://github.com/borkdude/jet">borkdude/jet</a> is required currently.<br>
vim-iced can download <code>jet</code> automatically if you want.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>vim-iced basically requires nREPL with some middlewares.
But in some case, you may need to use plain nREPL such as <a href="https://book.babashka.org/#_nrepl">babashka.nrepl</a>.</p>
</div>
<div class="paragraph">
<p>In this case, vim-iced provides simple test integration which has less
functionality than <a href="https://docs.cider.mx/cider-nrepl/nrepl-api/ops.html#test-var-query">cider-nrepl&#8217;s one</a>.</p>
</div>
<div class="paragraph">
<p>To use this simple test integration, you don&#8217;t need to recognize whether your nREPL is plain or not.
Following commands are also support simple test integration, so you just execute these commands as usual.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestUnderCursor">IcedTestUnderCursor</a></p>
</li>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestNs">IcedTestNs</a></p>
</li>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestAll">IcedTestAll</a></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>:IcedTestAll</code> depends on current namespace.
(e.g. <code>foo.core</code> will search all vars in <code>foo.*</code>).<br>
So it&#8217;s still not really the whole test.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="formatting">9. Formatting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vim-iced&#8217;s code formatting is powered by <a href="https://github.com/weavejester/cljfmt">cljfmt</a>.
There are following two commands to format codes.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedFormat">IcedFormat</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">==</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reformat current form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedFormatAll">IcedFormatAll</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">=G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reformat current buffer.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="https://github.com/guns/vim-sexp">vim-sexp</a> also provides formatting codes function.
If you want to use vim-iced&#8217;s formatting function, you should define <code>g:sexp_mappings</code> as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">let</span> <span class="nv">g:sexp_mappings</span> <span class="p">=</span> <span class="p">{</span><span class="s1">'sexp_indent'</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'sexp_indent_top'</span><span class="p">:</span> <span class="s1">''</span><span class="p">}</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See also <a href="#customizing_indent_rules">Customizing indent rules</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="format_on_writing_files">9.1. Format on writing files</h3>
<div class="paragraph">
<p>vim-iced also provides following sync commands.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedFormatSync">IcedFormatSync</a></p>
</li>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedFormatSyncAll">IcedFormatSyncAll</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These commands are useful to format on writing files.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim">aug VimIcedAutoFormatOnWriting
  <span class="k">au</span><span class="p">!</span>
  <span class="c">" Format whole buffer on writing files</span>
  <span class="k">au</span> <span class="nb">BufWritePre</span> *<span class="p">.</span>clj<span class="p">,</span>*<span class="p">.</span>cljs<span class="p">,</span>*<span class="p">.</span>cljc<span class="p">,</span>*<span class="p">.</span>edn <span class="nb">execute</span> <span class="s1">':IcedFormatSyncAll'</span>

  <span class="c">" Format only current form on writing files</span>
  <span class="c">" au BufWritePre *.clj,*.cljs,*.cljc,*.edn execute ':IcedFormatSync'</span>
aug END</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="formatting_customize">9.2. Customize formatter </h3>
<div class="paragraph">
<p>vim-iced also supports following (GraalVM powered) code formatting tools.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/greglook/cljstyle">cljstyle</a></p>
</li>
<li>
<p><a href="https://github.com/kkinnear/zprint">zprint</a></p>
</li>
<li>
<p><a href="https://github.com/candid82/joker">joker</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you change <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_formatter">g:iced_formatter</a> option,
vim-iced will use the tool to format codes and calculate indent level.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>These tools can be downloaded automatically if you want.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="auto_indenting">9.3. Auto indenting</h3>
<div class="paragraph">
<p>vim-iced provides auto indentation feature, and it is enabled by default.</p>
</div>
<div class="paragraph">
<p>Indent level is calculated by the set formatter,
so <code>cljfmt</code> formatter which is used by default may lead slow down vim/nvim.</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t use vim-iced&#8217;s auto indentation,
you can disable it by <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_auto_indent">g:iced_enable_auto_indent</a> variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">let</span> <span class="nv">g:iced_enable_auto_indent</span> <span class="p">=</span> <span class="k">v</span><span class="p">:</span>false</code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="debugging">10. Debugging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vim-iced supports CIDER&#8217;s <a href="https://docs.cider.mx/cider/debugging/debugger.html">#dbg and #break</a> reader literals.
The easiest way is to put <code>#dbg</code> to your code, and evaluate it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">fib</span><span class="w"> </span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w">
  </span><span class="o">#</span><span class="n">dbg</span><span class="w"> </span><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">n</span><span class="p">]</span><span class="w">
         </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
           </span><span class="n">a</span><span class="w">
           </span><span class="p">(</span><span class="nf">recur</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">dec</span><span class="w"> </span><span class="n">n</span><span class="p">)))))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you evaluate <code>(fib 10)</code>, debugger will launched something like follows.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="assets/debugging.png" alt="debugging screenshot">
</div>
</div>
<div class="sect2">
<h3 id="_tracing_function_calls">10.1. Tracing function calls</h3>
<div class="paragraph">
<p>vim-iced provides 2 commands for tracing function calls.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedToggleTraceVar">IcedToggleTraceVar</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toggle tracing the specified var in current namespace.<br>
If any symbol is not passed, the symbol under cursor is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedToggleTraceNs">IcedToggleTraceNs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toggle tracing the specified namespace.<br>
If any namespace is not passed, the current buffer&#8217;s namespace name is used.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Traced result will be displayed in <a href="#stdout_buffer">Stdout buffer</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_browsing_tapped_values">10.2. Browsing tapped values</h3>
<div class="paragraph">
<p>If you have a big data structure and want to dig into it, browsing tapped values is useful.</p>
</div>
<div class="paragraph">
<p>When you evaluate <code>(tap&gt; YOUR_DATA)</code>, <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBrowseTapped">IcedBrowseTapped</a> shows tapped values.
Select the value you want to dig into, then browsing value start.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
To use <code>tap&gt;</code>, Clojure 1.10.0 or later is required.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All tapped values are stored in memory.
So if you would like to delete them, execute <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedClearTapped">IcedClearTapped</a> command.</p>
</div>
<div class="sect3">
<h4 id="_browsing_keys">10.2.1. Browsing keys</h4>
<div class="paragraph">
<p>For example, when there are following tapped values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1st tapped value: <code>{:foo [{:dummy "bar"} {:bar "baz"}]}</code></p>
</li>
<li>
<p>2nd tapped value: <code>{:hello "world"}</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The key to browse <code>"baz"</code> is <code>0 :foo 1 :bar</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The first <code>0</code> means "browse 1st tapped value"</p>
</li>
<li>
<p><code>:foo</code> and <code>:bar</code> means the key for hash-map</p>
</li>
<li>
<p><code>1</code> means the index of list/vector
<span class="small"><a href="#top">Back to top</a></span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="refactoring">11. Refactoring</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="refactoring_namespace">11.1. Namespace</h3>
<div class="paragraph">
<p>Following commands are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedCleanNs">IcedCleanNs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rcn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cleanup ns form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedAddNs">IcedAddNs</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ran</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add require to <code>ns</code> form.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedAddMissing">IcedAddMissing</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add missing libspec.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_cache">11.1.1. Cache</h4>
<div class="paragraph">
<p>Namespaces and its aliases are cached for performance.
<a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedClearNsCache">IcedClearNsCache</a> will clear this cache.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="refactoring_function">11.2. Function</h3>
<div class="paragraph">
<p>Following commands are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedExtractFunction">IcedExtractFunction</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ref</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extract the form under cursor as a function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedAddArity">IcedAddArity</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;raa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add an arity to <code>defn</code>, <code>fn</code>, <code>defmacro</code>, or <code>defmethod</code>.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_examples">11.2.1. Examples</h4>
<div class="listingblock">
<div class="title">IcedExtractFunction ( means cursor position, and "bar" is inputed by user)</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; before</span><span class="w">
</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="p">(</span><span class="err"></span><span class="nb">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span><span class="w">

</span><span class="c1">;; after</span><span class="w">
</span><span class="p">(</span><span class="k">defn-</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w">

</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="p">(</span><span class="nf">bar</span><span class="w"> </span><span class="n">x</span><span class="p">)))</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">IcedAddArity ( means cursor position)</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; before</span><span class="w">
</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="err"></span><span class="nb">inc</span><span class="w"> </span><span class="n">x</span><span class="p">))</span><span class="w">
</span><span class="c1">;; after</span><span class="w">
</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">foo</span><span class="w">
  </span><span class="p">([])</span><span class="w">
  </span><span class="p">([</span><span class="n">x</span><span class="p">]</span><span class="w">
   </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="n">x</span><span class="p">)))</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="refactoring_form">11.3. Form</h3>
<div class="paragraph">
<p>Following commands are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedThreadFirst">IcedThreadFirst</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rtf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert current outer form to use <code>&#8594;</code> threading macro.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedThreadLast">IcedThreadLast</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rtl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert current outer form to use <code>&#8594;&gt;</code> threading macro.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedMoveToLet">IcedMoveToLet</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move the form under cursor to nearest <code>let</code> binding.<br>
If there is no <code>let</code> form in current top list, wrap the form with <code>let</code>.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_examples_2">11.3.1. Examples</h4>
<div class="listingblock">
<div class="title">IcedThreadFirst</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; before</span><span class="w">
</span><span class="p">(</span><span class="nf">foo</span><span class="w"> </span><span class="p">(</span><span class="nf">bar</span><span class="w"> </span><span class="p">(</span><span class="nf">baz</span><span class="w"> </span><span class="s">"hello"</span><span class="p">)))</span><span class="w">
</span><span class="c1">;; after</span><span class="w">
</span><span class="p">(</span><span class="nb">-&gt;</span><span class="w"> </span><span class="s">"hello"</span><span class="w"> </span><span class="n">baz</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="n">foo</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">IcedThreadLast</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; before</span><span class="w">
</span><span class="p">(</span><span class="nf">foo</span><span class="w"> </span><span class="n">yy</span><span class="w"> </span><span class="p">(</span><span class="nf">bar</span><span class="w"> </span><span class="n">xx</span><span class="w"> </span><span class="s">"hello"</span><span class="p">))</span><span class="w">
</span><span class="c1">;; after</span><span class="w">
</span><span class="p">(</span><span class="nf">-&gt;&gt;</span><span class="w"> </span><span class="s">"hello"</span><span class="w"> </span><span class="p">(</span><span class="nf">bar</span><span class="w"> </span><span class="n">xx</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nf">foo</span><span class="w"> </span><span class="n">yy</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">IcedMoveToLet ( means cursor position, and "bar" is inputed by user)</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; before</span><span class="w">
</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">foo</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="err"></span><span class="nb">inc</span><span class="w"> </span><span class="n">foo</span><span class="p">))</span><span class="w">
</span><span class="c1">;; after</span><span class="w">
</span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">[</span><span class="n">foo</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="n">bar</span><span class="w"> </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="n">foo</span><span class="p">)]</span><span class="w">
  </span><span class="n">bar</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="refactoring_symbol">11.4. Symbol</h3>
<div class="paragraph">
<p>Following commands are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedRenameSymbol">IcedRenameSymbol</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rrs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rename all occurrences of the symbol under cursor.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_examples_3">11.4.1. Examples</h4>
<div class="listingblock">
<div class="title">IcedRenameSymbol ( means cursor position, and "bar" is inputed by user)</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="c1">;; before</span><span class="w">
</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">usage</span><span class="w">
  </span><span class="p">{</span><span class="no">:value</span><span class="w"> </span><span class="p">(</span><span class="err"></span><span class="n">foo</span><span class="w"> </span><span class="mi">21</span><span class="p">})</span><span class="w">

</span><span class="c1">;; after</span><span class="w">
</span><span class="p">(</span><span class="k">defn</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span><span class="w">

</span><span class="p">(</span><span class="k">def</span><span class="w"> </span><span class="n">usage</span><span class="w">
  </span><span class="p">{</span><span class="no">:value</span><span class="w"> </span><span class="p">(</span><span class="nf">bar</span><span class="w"> </span><span class="mi">21</span><span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sideloader">12. Sideloader</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<code>base64</code> command is required to use sideloader.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Sideloader is a new feature from <a href="https://metaredux.com/posts/2020/03/28/nrepl-0-7.html">nREPL 0.7</a>, and enables injecting code
remotely in a running server on demand.</p>
</div>
<div class="paragraph">
<p>vim-iced provides following commands for sideloader:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStartSideloader">IcedStartSideloader</a></p>
</li>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStopSideloader">IcedStopSideloader</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When nREPL requires to look up some codes,
vim-iced will search in <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23source_root">g:iced#source_root</a>.</p>
</div>
<div class="paragraph">
<p>It is assumed that sources under <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23source_root">g:iced#source_root</a> is managed by tools such as <a href="https://github.com/x-motemen/ghq">ghq</a>.</p>
</div>
<div class="paragraph">
<p>vim-iced will use <code>find</code> or <a href="https://github.com/sharkdp/fd">fd</a> as a searching file program.</p>
</div>
<div class="sect2">
<h3 id="_starting_sideloader">12.1. Starting sideloader</h3>
<div class="paragraph">
<p>There are following ways to start sideloader:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>execute <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStartSideloader">IcedStartSideloader</a> command.</p>
</li>
<li>
<p>set <code>v:true</code> to <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23nrepl%23enable_sideloader">g:iced#nrepl#enable_sideloader</a> before launching vim/nvim.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_stopping_sideloader">12.2. Stopping sideloader</h3>
<div class="paragraph">
<p>nREPL does not provide the way to stop sideloader officially.
But sideloader is a session specific mode, so we can stop sideloading by stopping to use current session.</p>
</div>
<div class="paragraph">
<p>Executing <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStopSideloader">IcedStopSideloader</a> command will
renew the current Clojure session.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example">12.3. Example</h3>
<div class="ulist">
<ul>
<li>
<p>Premise</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/x-motemen/ghq">ghq</a> is installed</p>
</li>
<li>
<p><code>clojure.data.json</code> is cloned via <code>ghq get <a href="https://github.com/clojure/data.json" class="bare">https://github.com/clojure/data.json</a></code></p>
</li>
<li>
<p>No dependency for <code>clojure.data.json</code> in project.clj</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>First, prepare the following code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">foo.core</span><span class="p">)</span><span class="w">

</span><span class="p">(</span><span class="nb">comment</span><span class="w">
  </span><span class="p">(</span><span class="nf">require</span><span class="w"> </span><span class="o">'</span><span class="p">[</span><span class="n">clojure.data.json</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">json</span><span class="p">])</span><span class="w">
  </span><span class="p">(</span><span class="nf">json/write-str</span><span class="w"> </span><span class="p">{</span><span class="no">:foo</span><span class="w"> </span><span class="s">"bar"</span><span class="p">}))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When you evaluate <code>comment</code> form, you will see the following error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>class java.io.FileNotFoundException
Execution error (FileNotFoundException) at foo.core/eval13426 (form-init6273881382280324078.clj:7).
Could not locate clojure/data/json__init.class, clojure/data/json.clj or clojure/data/json.cljc on classpath.</pre>
</div>
</div>
<div class="paragraph">
<p>Then, execute <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStartSideloader">IcedStartSideloader</a> command, and you can see <code>Sideloader has started.</code> message is shown.</p>
</div>
<div class="paragraph">
<p>So let&#8217;s evaluate again!
You&#8217;ll see the expected result such as <code>"{\"foo\":\"bar\"}"</code>.</p>
</div>
<div class="paragraph">
<p>You can also confirm that sideloader works clearly in <code>:message</code> command results.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Provided clojure/data/json.clj as resource to sideloader.
Provided clojure/data/json.clj as resource to sideloader.
Provided clojure/data/json_compat_0_1.clj as resource to sideloader.
Provided clojure/data/json_compat_0_1.clj as resource to sideloader.</pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="static_analysis">13. Static analysis</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Currently vim-iced supports static analysis by <a href="https://github.com/borkdude/clj-kondo">clj-kondo</a>.</p>
</div>
<div class="sect2">
<h3 id="static_analysis_clj_kondo">13.1. clj-kondo</h3>
<div class="paragraph">
<p>This feature is disabled by default.
To enable, set <code>v:true</code> to <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_clj_kondo_analysis">g:iced_enable_clj_kondo_analysis</a>.</p>
</div>
<div class="paragraph">
<p>Analysis process is run at <a href="https://vim-jp.org/vimdoc-en/autocmd.html#BufWritePost">BufWritePost</a> autocmd.
Analyzed data is cached at <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_cache_directory">g:iced_cache_directory</a>, and used in followings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBrowseReferences">IcedBrowseReferences</a></p>
</li>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBrowseDependencies">IcedBrowseDependencies</a></p>
</li>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedAddMissing">IcedAddMissing</a></p>
</li>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedAddNs">IcedAddNs</a></p>
</li>
<li>
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedDefJump">IcedDefJump</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_local_analysis">13.1.1. Local analysis</h4>
<div class="paragraph">
<p>From clj-kondo v2021.01.20, local analysis is supported.
It can be used to support jumping to local vars.</p>
</div>
<div class="paragraph">
<p>This feature is disabled by default.
To enable, set <code>v:true</code> to <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_clj_kondo_local_analysis">g:iced_enable_clj_kondo_local_analysis</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tips">13.1.2. Tips</h4>
<div class="paragraph">
<p>Cached files will be separated to var definition/usage and ns definition/usage automatically if you have <a href="https://github.com/stedolan/jq">jq</a> or <a href="https://github.com/borkdude/jet">jet</a>.</p>
</div>
<div class="paragraph">
<p>This leads to make <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedAddMissing">IcedAddMissing</a> and <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedAddNs">IcedAddNs</a> more faster.</p>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="iced_command">14. iced command</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vim-iced provides <code>iced</code> command to use vim-iced easily.
Main purpose of this command is launching REPL with all features for vim-iced.</p>
</div>
<div class="sect2">
<h3 id="iced_supports">14.1. Supports</h3>
<div class="paragraph">
<p><code>iced</code> command currently supports following tools.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/technomancy/leiningen">Leiningen</a></p>
</li>
<li>
<p><a href="https://github.com/boot-clj/boot">Boot</a></p>
</li>
<li>
<p><a href="https://clojure.org/guides/deps_and_cli">Clojure CLI</a></p>
</li>
<li>
<p><a href="https://github.com/thheller/shadow-cljs">shadow-cljs</a>&#8201;&#8212;&#8201;See also <a href="#clojurescript_shadow_cljs">shadow-cljs section</a>.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>iced</code> command will automatically search project files (such as "project.clj", "shadow-cljs.edn" and etc) and launch the appropriate REPL for the project.</p>
</div>
<div class="paragraph">
<p>When multiple projects are found, <strong>the priority is given in the order listed above</strong>.</p>
</div>
<div class="paragraph">
<p>If you want to specify project type, use <code>--force-X</code> option as below.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="iced_usage">14.2. Usage</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>iced repl <span class="o">[</span>options]</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_options">14.2.1. Options</h4>
<div class="paragraph">
<p>Following options are specially treated by <code>iced</code> command.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--with-cljs</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enables ClojureScript features.<br>
This option is enabled automatically when project configuration<br>
file(eg. project.clj) contains 'org.clojure/clojurescript' dependency.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, it may be a false positive because of simple string match.</p>
</div>
<div class="paragraph">
<p>In this case, you can use more accurate checks with
<a href="https://github.com/borkdude/babashka">Babashka</a>.
(Optional and Limited for Leiningen and Clojure CLI only)
<code>iced</code> command will use it automatically when <code>bb</code> command exists.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--with-kaocha</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enables features for testing with kaocha.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--force-boot</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Force to use Boot.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--force-clojure-cli</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Force to use Clojure CLI.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--force-shadow-cljs</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Force to use shadow-cljs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--dependency=VALUE</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Adds extra dependency.<br>
<code>VALUE</code> format is 'PACKAGE_NAME:VERSION'.<br>
For example: <code>--dependency=iced-nrepl:0.4.3</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--middleware=VALUE</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Adds extra nrepl middleware.<br>
For example: <code>--middleware=iced.nrepl/wrap-iced</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--instant</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Launch instant REPL via Clojure CLI.<br>
Instant REPL requires no project/config file.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Other options are passed to each program as below.</p>
</div>
</div>
<div class="sect3">
<h4 id="iced_arguments">14.2.2. Arguments</h4>
<div class="listingblock">
<div class="title">Leiningen profile</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>iced repl with-profile +foo</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Clojure CLI alias</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>iced repl <span class="nt">-A</span>:foo</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Combinating several options</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>iced repl <span class="nt">--with-cljs</span> <span class="nt">--force-clojure-cli</span> <span class="nt">-A</span>:foo</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="iced_command_advanced">14.3. Advanced</h3>
<div class="sect3">
<h4 id="_clojure_cli_project">14.3.1. Clojure CLI project</h4>
<div class="paragraph">
<p><code>iced</code> command use <code>clj</code> command for Clojure CLI project by default.</p>
</div>
<div class="paragraph">
<p>If you would like to use <code>clojure</code> command instead, you can overwrite the command by <code>ICED_REPL_CLOJURE_CLI_CMD</code> environmental variable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ ICED_REPL_CLOJURE_CLI_CMD</span><span class="o">=</span>clojure iced repl</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, this is useful when you&#8217;d like to use <a href="https://github.com/bhauman/rebel-readline">rebel-readline</a> in the REPL which is started by <code>iced repl</code>.</p>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="clojurescript">15. ClojureScript</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vim-iced supports following environments currently.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/bhauman/figwheel-main">Figwheel main</a>&#8201;&#8212;&#8201;0.2.0 or later is required.</p>
</li>
<li>
<p><a href="https://github.com/bhauman/lein-figwheel/tree/master/sidecar">Figwheel Sidecar</a></p>
</li>
<li>
<p><a href="http://shadow-cljs.org">shadow-cljs</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>vim-iced provides following commands for ClojureScript.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStartCljsRepl">IcedStartCljsRepl</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start CLJS REPL with specified environment.<br>
REPL session changes to 'cljs.user' namespace.<br>
If no environment is passed, <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23cljs%23default_env">g:iced#cljs#default_env</a> is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedQuitCljsRepl">IcedQuitCljsRepl</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quit CLJS REPL.<br>
REPL session changes to initial namespace.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedCycleSession">IcedCycleSession</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cycle clj/cljs session.<br>
Error occurs when CLJS session does not exist.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedCljsRepl">IcedCljsRepl</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start CLJS REPL via user specified code.<br>
This can be used to start any CLJS REPLs.<br>
The code will be passed to <code>cider.piggieback/cljs-repl</code>.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="clojurescript_figwheel_main">15.1. Figwheel-main</h3>
<div class="paragraph">
<p>To start CLJS REPL with Figwheel main, you need to specify <code>build-id</code>.</p>
</div>
<div class="listingblock">
<div class="title">via IcedCljsRepl command</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="p">:</span>IcedCljsRepl <span class="p">(</span>figwheel<span class="p">.</span>main<span class="p">.</span>api/repl<span class="p">-</span>env <span class="s2">"build-id"</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">via IcedStartCljsRepl command</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="p">:</span>IcedStartCljsRepl figwheel<span class="p">-</span>main build<span class="p">-</span>id</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="clojurescript_shadow_cljs">15.2. shadow-cljs</h3>
<div class="paragraph">
<p>To start CLJS REPL with shadow-cljs, you need following steps.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>iced</code> command uses the existence of <code>shadow-cljs.edn</code> file for detecting shadow-cljs project for now.
Thus, if you are using shadow-cljs via Leiningen, you need to setup manually (c.f. <a href="https://liquidz.github.io/vim-iced/vim-iced.html#vim-iced-manual-shadow-cljs">Manual Install</a>)
instead of the following steps.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start to watch</p>
<div class="ulist">
<ul>
<li>
<p><code>$ iced repl {YOUR-BUILD-ID}</code></p>
<div class="ulist">
<ul>
<li>
<p>In this case, <code>iced</code> command will start watching project instead of starting REPL.</p>
</li>
<li>
<p>You need a <a href="https://shadow-cljs.github.io/docs/UsersGuide.html#nREPL">nREPL configuration file</a> to start watching, but <code>iced</code> command can generate it automatically.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Access shadow-cljs&#8217;s HTTP server in your browser</p>
<div class="ulist">
<ul>
<li>
<p>E.g. <a href="http://localhost:8080" class="bare">http://localhost:8080</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Connect to nREPL</p>
<div class="ulist">
<ul>
<li>
<p>Execute <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedConnect">IcedConnect</a> command to connect to REPL</p>
<div class="ulist">
<ul>
<li>
<p>For shadow-cljs, cljs-repl will be started automatically after connection.</p>
</li>
<li>
<p>You don&#8217;t need to specify your build ID anymore.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you would like to start CLJS REPL by hand, you can do it as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="p">:</span>IcedEvalRepl <span class="p">(</span>shadow<span class="p">.</span>cljs<span class="p">.</span>devtools<span class="p">.</span>api/repl <span class="p">:</span>YOUR<span class="p">-</span>BUILD<span class="p">-</span>ID<span class="p">)</span></code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="skeleton">16. Skeleton</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vim-iced provides code skeleton when you open new clojure files.
Concretely "when you open new" means the time when <a href="https://vim-jp.org/vimdoc-en/autocmd.html#BufNewFile">BufNewFile</a> autocmd is fired.</p>
</div>
<div class="paragraph">
<p>Currently, following extensions are supported.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>*.clj</code></p>
</li>
<li>
<p><code>*.cljs</code></p>
</li>
<li>
<p><code>*.cljc</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="skeleton_source_file">16.1. Source file</h3>
<div class="paragraph">
<p>For example, the skeleton when you open <code>src/foo/bar.clj</code> is as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">foo.bar</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="skeleton_test_file">16.2. Test file</h3>
<div class="paragraph">
<p>A skeleton for test file depends on the file extension.</p>
</div>
<div class="sect3">
<h4 id="_clj">16.2.1. *.clj</h4>
<div class="paragraph">
<p>For example, the skeleton when you open <code>test/foo/bar_test.clj</code> is as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">foo.bar-test</span><span class="w">
  </span><span class="p">(</span><span class="no">:require</span><span class="w"> </span><span class="p">[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">t</span><span class="p">]</span><span class="w">
            </span><span class="p">[</span><span class="n">foo.bar</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">sut</span><span class="p">]))</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cljs">16.2.2. *.cljs</h4>
<div class="paragraph">
<p>For example, the skeleton when you open <code>test/foo/bar_test.cljs</code> is as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">foo.bar-test</span><span class="w">
  </span><span class="p">(</span><span class="no">:require</span><span class="w"> </span><span class="p">[</span><span class="n">cljs.test</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="no">:include-macros</span><span class="w"> </span><span class="n">true</span><span class="p">]</span><span class="w">
            </span><span class="p">[</span><span class="n">foo.bar</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">sut</span><span class="p">]))</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cljc">16.2.3. *.cljc</h4>
<div class="paragraph">
<p>For example, the skeleton when you open <code>test/foo/bar_test.cljc</code> is as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">ns</span><span class="w"> </span><span class="n">foo.bar-test</span><span class="w">
  </span><span class="p">(</span><span class="no">:require</span><span class="w"> </span><span class="o">#</span><span class="n">?</span><span class="o">@</span><span class="p">(</span><span class="no">:clj</span><span class="w">  </span><span class="p">[[</span><span class="n">clojure.test</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">t</span><span class="p">]</span><span class="w">
                       </span><span class="p">[</span><span class="n">foo.bar</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">sut</span><span class="p">]]</span><span class="w">
                </span><span class="no">:cljs</span><span class="w"> </span><span class="p">[[</span><span class="n">cljs.test</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="no">:include-macros</span><span class="w"> </span><span class="n">true</span><span class="p">]</span><span class="w">
                       </span><span class="p">[</span><span class="n">foo.bar</span><span class="w"> </span><span class="no">:as</span><span class="w"> </span><span class="n">sut</span><span class="p">]])))</span></code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="operator">17. Operator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vim-iced provides following operators.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operator</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3CPlug%3E%28iced_eval%29">&lt;Plug&gt;(iced_eval)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluate codes<br>
This operator supports <a href="#evaluation_yank">Yank</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3CPlug%3E%28iced_eval_and_print%29">&lt;Plug&gt;(iced_eval_and_print)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluate code and print result to stdout buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3CPlug%3E%28iced_eval_and_tap%29">&lt;Plug&gt;(iced_eval_and_tap)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluate code and tap result by <code>clojure.core/tap&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3CPlug%3E%28iced_eval_and_replace%29">&lt;Plug&gt;(iced_eval_and_replace)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluate code and replace it by the evaluation result</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3CPlug%3E%28iced_eval_and_comment%29">&lt;Plug&gt;(iced_eval_and_comment)</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluate code and add the result as a comment in current end of line</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>It is useful to combinate these operators with <a href="https://github.com/guns/vim-sexp">vim-sexp</a>'s motions like follows.
(Change the mapping key as you like)</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim">aug MyClojureSetting
  <span class="k">au</span><span class="p">!</span>
  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>epe
<span class="se">      \</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_eval_and_print<span class="p">)&lt;</span>Plug<span class="p">&gt;(</span>sexp_outer_list<span class="p">)</span>``
  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ept
<span class="se">      \</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_eval_and_print<span class="p">)&lt;</span>Plug<span class="p">&gt;(</span>sexp_outer_top_list<span class="p">)</span>``

  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>eae
<span class="se">      \</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_eval_and_tap<span class="p">)&lt;</span>Plug<span class="p">&gt;(</span>sexp_outer_list<span class="p">)</span>``
  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>eat
<span class="se">      \</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_eval_and_tap<span class="p">)&lt;</span>Plug<span class="p">&gt;(</span>sexp_outer_top_list<span class="p">)</span>``

  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ere
<span class="se">      \</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_eval_and_replace<span class="p">)&lt;</span>Plug<span class="p">&gt;(</span>sexp_outer_list<span class="p">)</span>``
  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ert
<span class="se">      \</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_eval_and_replace<span class="p">)&lt;</span>Plug<span class="p">&gt;(</span>sexp_outer_top_list<span class="p">)</span>``

  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ece
<span class="se">      \</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_eval_and_comment<span class="p">)&lt;</span>Plug<span class="p">&gt;(</span>sexp_outer_list<span class="p">)</span>``
  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ect
<span class="se">      \</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_eval_and_comment<span class="p">)&lt;</span>Plug<span class="p">&gt;(</span>sexp_outer_top_list<span class="p">)</span>``
aug END</code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="editing_sexp">18. Editing S-expression</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vim-iced is depending on <a href="https://github.com/guns/vim-sexp">vim-sexp</a>, and most features for editing S-expression are provided by <a href="https://github.com/guns/vim-sexp">vim-sexp</a>.</p>
</div>
<div class="paragraph">
<p>In vim-iced, only the following functionalities which is extended from <a href="https://github.com/guns/vim-sexp">vim-sexp</a> are provided.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedSlurp">IcedSlurp</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slurp the next element.<br>
If no elements in current form, search next form and slurp.<br>
For searching next form, <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23paredit%23slurp_max_depth">g:iced#paredit#slurp_max_depth</a> is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBarf">IcedBarf</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Barf the last element in current form.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>These commands are so useful when combined with <a href="https://github.com/kana/vim-submode">vim-submode</a>.<br>
See <a href="#tips">Tips</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="docker">19. Docker</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you are connecting to nREPL in <a href="https://www.docker.com">docker</a> container, various paths will be paths in the docker container.</p>
</div>
<div class="paragraph">
<p>Because some features such as jumping to definition does not work properly as it is,
vim-iced provides <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23nrepl%23path_translation">g:iced#nrepl#path_translation</a> option to translate these paths.</p>
</div>
<div class="paragraph">
<p>See <a href="#configuration_docker">Docker</a> in <a href="#configuration">Configuration</a> section.</p>
</div>
<div class="sect2">
<h3 id="docker_example">19.1. Example</h3>
<div class="paragraph">
<p>At first, build a simple docker image for vim-iced.</p>
</div>
<div class="listingblock">
<div class="title">Minimum dockerfile for vim-iced</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="dockerfile"><span class="k">FROM</span><span class="s"> clojure:openjdk-14-lein-alpine</span>
<span class="k">RUN </span>apk add <span class="nt">--no-cache</span> <span class="nt">--virtual</span> .builddeps git <span class="o">&amp;&amp;</span> <span class="se">\
</span>    git clone <span class="nt">--depth</span> 1 <span class="nt">--single-branch</span> https://github.com/liquidz/vim-iced /usr/local/src/vim-iced <span class="o">&amp;&amp;</span> <span class="se">\
</span>    apk del .builddeps
<span class="k">ENV</span><span class="s"> PATH $PATH:/usr/local/src/vim-iced/bin</span>
<span class="k">ENTRYPOINT</span><span class="s"> ["iced", "repl"]</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>docker build <span class="nt">-t</span> vim-iced .</code></pre>
</div>
</div>
<div class="paragraph">
<p>Second, launch nREPL with a fixed port number.</p>
</div>
<div class="listingblock">
<div class="title">project.clj</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">defproject</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="s">"0.1.0-SNAPSHOT"</span><span class="w">
  </span><span class="c1">;; ...</span><span class="w">

  </span><span class="c1">;; Change port number as you like</span><span class="w">
  </span><span class="no">:repl-options</span><span class="w"> </span><span class="p">{</span><span class="no">:host</span><span class="w"> </span><span class="s">"0.0.0.0"</span><span class="w"> </span><span class="no">:port</span><span class="w"> </span><span class="mi">55555</span><span class="p">}</span><span class="w">

  </span><span class="c1">;; ...</span><span class="w">
  </span><span class="p">)</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--expose</span> 55555 <span class="nt">-p</span> 55555:55555 <span class="nt">-v</span> <span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>:/tmp vim-iced</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally just connect with <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedConnect">IcedConnect</a> as usual.</p>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="command_palette">20. Command palette</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is hard to remember all commands by vim-iced since there are many commands.</p>
</div>
<div class="paragraph">
<p>But most commands can be filtered/selected from the command palette even if you don&#8217;t remember them.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedCommandPalette">IcedCommandPalette</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;hh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select a command from the palette.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you&#8217;d like to customize the command palette(e.g. adding new command), <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23palette">g:iced#palette</a> option is useful.</p>
</div>
<div class="paragraph">
<p>See <a href="#configuration_command_palette">Command palette</a> in <a href="#configuration">Configuration</a> section for more information.</p>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_buffer">21. Buffer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="stdout_buffer">21.1. Stdout buffer</h3>
<div class="paragraph">
<p>When evaluating a form the output from Clojure&#8217;s standard output is sent to a dedicated buffer.
Vim-iced provides the following commands to control it&#8217;s stdout buffer.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStdoutBufferToggle">IcedStdoutBufferToggle</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ss</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open stdout buffer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStdoutBufferOpen">IcedStdoutBufferOpen</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;so</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open stdout buffer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStdoutBufferClear">IcedStdoutBufferClear</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;sl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clear all lines in stdout buffer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedStdoutBufferClose">IcedStdoutBufferClose</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;sq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Close stdout buffer window.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In addition to the stdout buffer, standard output can be displayed on popup notification when stdout buffer is invisible.
If you don&#8217;t use notification for standard output, see <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23buffer%23stdout%23enable_notify">g:iced#buffer#stdout#enable_notify</a> option.</p>
</div>
<div class="paragraph">
<p>See also <a href="https://liquidz.github.io/vim-iced/vim-iced.html#vim-iced-notification">vim-iced-notification</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="test_buffer">21.2. Test buffer</h3>
<div class="paragraph">
<p>Test results will be outputted to dedicated buffer.</p>
</div>
<div class="paragraph">
<p>vim-iced provides following commands to control test buffer.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedTestBufferOpen">IcedTestBufferOpen</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open test result buffer.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Test buffer is opened automatically when tests are failed.
On the other hand, test buffer is closed automatically when test are succeeded.</p>
</div>
<div class="paragraph">
<p>So <strong>you don&#8217;t need to use the above command</strong> basically.</p>
</div>
</div>
<div class="sect2">
<h3 id="document_buffer">21.3. Document buffer</h3>
<div class="paragraph">
<p>Documents will be shown to popup window by default.
But you can show them to dedicated buffer to keep them displayed.</p>
</div>
<div class="paragraph">
<p>vim-iced provides following commands to control document buffer.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Default key mapping</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedDocumentOpen">IcedDocumentOpen</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;hb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open a window, and show documents for specified <code>symbol</code>.<br>
If <code>symbol</code> is not passed, the symbol under the cursor is used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedDocumentClose">IcedDocumentClose</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;hq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Close document window.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration">22. Configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="configuration_evaluation">22.1. Evaluation</h3>
<div class="sect3">
<h4 id="eval_inside_comment">22.1.1. Eval inside comment</h4>
<div class="paragraph">
<p><code>comment</code> form is useful during development for checking behavior.
You can use <a href="#evaluate_outer_list">evaluating outer list</a> range to evaluate codes inside <code>comment</code> form,
but it is cumbersome as some cursor movements are required.</p>
</div>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedEvalOuterTopList">IcedEvalOuterTopList</a> helps by selecting different code to be evaluated when the current top form is a <code>comment</code>.
If the cursor is in a form nested inside the comment, the code to be evaluated will be the cursor&#8217;s topmost form in the comment, rather than the comment form itself.</p>
</div>
<div class="paragraph">
<p>When the cursor is otherwise at the same depth as the <code>comment</code> form itself, the <code>comment</code> will be evaluated as a <code>do</code> form.
This can be configured by <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23eval%23inside_comment">g:iced#eval#inside_comment</a>, and it is enabled by default.</p>
</div>
<div class="listingblock">
<div class="title">Example ( means cursor position)</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nb">comment</span><span class="w">
  </span><span class="p">(</span><span class="nb">print</span><span class="w"> </span><span class="p">(</span><span class="err"></span><span class="nb">str</span><span class="w"> </span><span class="s">"hello"</span><span class="p">))</span><span class="w">   </span><span class="c1">;; Execute `:IcedEvalOuterTopList`</span><span class="w">
  </span><span class="p">(</span><span class="nb">print</span><span class="w"> </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="s">"world"</span><span class="p">)))</span><span class="w">    </span><span class="c1">;; =&gt; hello</span><span class="w">

</span><span class="p">(</span><span class="nb">comment</span><span class="w">
</span><span class="err"></span><span class="p">(</span><span class="nb">print</span><span class="w"> </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="s">"hello"</span><span class="p">))</span><span class="w">     </span><span class="c1">;; Execute `:IcedEvalOuterTopList`</span><span class="w">
  </span><span class="p">(</span><span class="nb">print</span><span class="w"> </span><span class="p">(</span><span class="nb">str</span><span class="w"> </span><span class="s">"world"</span><span class="p">)))</span><span class="w">    </span><span class="c1">;; =&gt; helloworld</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration_formatting">22.2. Formatting</h3>
<div class="sect3">
<h4 id="customizing_indent_rules">22.2.1. Customizing indent rules</h4>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23format%23rule">g:iced#format#rule</a> is a configuration that allow you to define indentation rules for <a href="https://github.com/weavejester/cljfmt">cljfmt</a>.</p>
</div>
<div class="paragraph">
<p>For example, <a href="https://github.com/liquidz/merr">merr</a>'s <code>let</code> has a form like follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">merr/let</span><span class="w"> </span><span class="n">+err+</span><span class="w"> </span><span class="p">[</span><span class="n">foo</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w">
          </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="n">foo</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To format like <code>clojure.core/let</code>, you should define the following rule.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">let</span> <span class="nv">g:iced</span>#format#rule <span class="p">=</span> <span class="p">{</span>
<span class="se">      \</span> <span class="s1">'merr.core/let'</span><span class="p">:</span> <span class="s1">'[[:block 2] [:inner 1]]'</span><span class="p">,</span>
<span class="se">      \</span> <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can get the following result.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">(</span><span class="nf">merr/let</span><span class="w"> </span><span class="n">+err+</span><span class="w"> </span><span class="p">[</span><span class="n">foo</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w">
  </span><span class="p">(</span><span class="nb">inc</span><span class="w"> </span><span class="n">foo</span><span class="p">))</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="https://github.com/weavejester/cljfmt#indentation-rules">cljfmt&#8217;s README</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="customizing_tonsky_formatting_rule">22.2.2. Tonsky&#8217;s formatting rule</h4>
<div class="paragraph">
<p>If you&#8217;d like to use <a href="http://tonsky.me/blog/clojurefmt/">Tonsky&#8217;s formatting rule</a>,
you can use this rule with <code>cljfmt</code> and <code>cljstyle</code>.</p>
</div>
<div class="sect4">
<h5 id="_cljfmt">cljfmt</h5>
<div class="paragraph">
<p>Set the following rule to <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23format%23rule">g:iced#format#rule</a> option.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">let</span> <span class="nv">g:iced</span>#format#rule <span class="p">=</span> <span class="p">{</span><span class="s1">'#"^\w"'</span><span class="p">:</span> <span class="s1">'[[:inner 0]]'</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_cljstyle">cljstyle</h5>
<div class="paragraph">
<p>Add following <code>:indents</code> setting to your <code>.cljstyle</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="clojure"><span class="p">{</span><span class="w">
 </span><span class="no">:indents</span><span class="w"> </span><span class="o">^</span><span class="no">:replace</span><span class="w"> </span><span class="p">{</span><span class="o">#</span><span class="s">"^\w"</span><span class="w"> </span><span class="p">[[</span><span class="no">:inner</span><span class="w"> </span><span class="mi">0</span><span class="p">]]}</span><span class="w">
 </span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="hook">22.3. Hook</h3>
<div class="paragraph">
<p>Some events on vim-iced can be hooked, and you can execute any processing.</p>
</div>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23hook">g:iced#hook</a> is the definition.
This is a dictionary with hook event as a key,
and the value is a dictionary or a list of dictionaries.</p>
</div>
<div class="listingblock">
<div class="title">Definition example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">let</span> <span class="nv">g:iced</span>#hook <span class="p">=</span> <span class="p">{</span>
<span class="se">    \</span> <span class="s1">'connected'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'type'</span><span class="p">:</span> <span class="s1">'function'</span><span class="p">,</span>
<span class="se">    \</span>               <span class="s1">'exec'</span><span class="p">:</span> <span class="p">{</span>_ <span class="p">-&gt;</span> iced#message#info_str<span class="p">(</span><span class="s1">'foo'</span><span class="p">)}},</span>
<span class="se">    \</span> <span class="s1">'disconnected'</span><span class="p">:</span> <span class="p">[{</span><span class="s1">'type'</span><span class="p">:</span> <span class="s1">'command'</span><span class="p">,</span>
<span class="se">    \</span>                   <span class="s1">'exec'</span><span class="p">:</span> <span class="s1">'echom "bar"'</span><span class="p">}],</span>
<span class="se">    \</span> <span class="s1">'ns_required'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'type'</span><span class="p">:</span> <span class="s1">'eval'</span><span class="p">,</span>
<span class="se">    \</span>                 <span class="s1">'exec'</span><span class="p">:</span> <span class="s1">'(println "baz")'</span><span class="p">},</span>
<span class="se">    \</span> <span class="s1">'test_finished'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'type'</span><span class="p">:</span> <span class="s1">'shell'</span><span class="p">,</span>
<span class="se">    \</span>                   <span class="s1">'exec'</span><span class="p">:</span> <span class="p">{</span><span class="k">v</span> <span class="p">-&gt;</span> <span class="nb">printf</span><span class="p">(</span><span class="s1">'tmux display-message "%s"'</span><span class="p">,</span> <span class="k">v</span><span class="p">.</span>summary<span class="p">)}}</span>
<span class="se">    \</span> <span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Another way, you can also use <code>iced#hook#add</code> function to add definitions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">call</span> iced#hook#<span class="nb">add</span><span class="p">(</span><span class="s1">'disconnected'</span><span class="p">,</span> <span class="p">{</span>
<span class="se">      \</span> <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'command'</span><span class="p">,</span>
<span class="se">      \</span> <span class="s1">'exec'</span><span class="p">:</span> <span class="s1">'echom "hello"'</span><span class="p">,</span>
<span class="se">      \</span> <span class="p">})</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="hook_event">22.3.1. Event</h4>
<div class="paragraph">
<p>Following events can be hooked.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Event key</th>
<th class="tableblock halign-left valign-top">Event parameters</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connect_prepared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[{'label': 'nREPL', 'type': 'nrepl', 'port': 12345}]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked before the start of connection.<br>
This hook only allows <code>function</code> hook type.<br>
Reporter should return a list of dictionary which has same parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connecting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>host</code>: Host name to connect<br>
<code>port</code>: Port number to connect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked just before connecting.<br>
If any hook functions return <code>{'cancel': 'message'}</code>, vim-iced will cancel to connect.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked when vim-iced is connected to nREPL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disconnected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked when vim-iced is disconnected from nREPL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">test_finished</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>result</code>: Test result ("succeeded" or "failed")<br>
<code>summary</code>: Test summary string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked when running test is finished.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ns_required</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked when <code>:IcedRequire</code> is finished.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ns_all_reloaded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked when <code>:IcedRequireAll</code> is finished.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">session_switched</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>session</code>: Destination session type. "clj" or "cljs".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked when current session is switched.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eval_prepared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>code</code>: The code to be evalated.<br>
<code>option</code>: Evaluation option.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked before the start of evaluation.<br>
The <code>option</code> parameter contains <code>id</code>, <code>file</code>, <code>line</code>, <code>column</code>, <code>verbose</code> and so on.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">evaluated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>result</code>: Result map respnsed by nREPL server.<br>
<code>option</code>: Evaluation option.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hooked after evaluation.<br></p>
<p class="tableblock">The <code>result</code> parameter contains <code>id</code>, <code>status</code>, <code>ns</code>, <code>value</code> and so on.<br>
The <code>option</code> parameter contains <code>line</code>, <code>column</code>, <code>verbose</code>, <code>code</code> and so on.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="hook_reporter">22.3.2. Reporter</h4>
<div class="paragraph">
<p>Hooked events and event parameters are reported to reporters.
You can define some kind of reporters as follows.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Reporter key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Process a event by a shell command.<br>
The shell command is executed in <a href="https://vim-jp.org/vimdoc-en/terminal.html">terminal</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">eval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Process a event by <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedEval">IcedEval</a> command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">function</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Process a event by a user-defined function.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Process a event by a vim command.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuration_docker">22.4. Docker</h3>
<div class="paragraph">
<p><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23nrepl%23path_translation">g:iced#nrepl#path_translation</a> is a option to define path translation rules.</p>
</div>
<div class="paragraph">
<p>In actual use, it is recommended to define the option in the project-specific configuration file by <a href="https://github.com/thinca/vim-localrc">vim-localrc</a> like follows.</p>
</div>
<div class="listingblock">
<div class="title">/path/to/your/project/root/.local.vimrc</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">let</span> <span class="nv">g:iced</span>#nrepl#path_translation <span class="p">=</span> <span class="p">{</span>
<span class="se">      \</span> <span class="s1">'/tmp'</span><span class="p">:</span> <span class="nb">expand</span><span class="p">(</span><span class="s1">'&lt;sfile&gt;:p:h'</span><span class="p">),</span>
<span class="se">      \</span> <span class="s1">'/root'</span><span class="p">:</span> $HOME<span class="p">,</span>
<span class="se">      \</span> <span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration_command_palette">22.5. Command palette</h3>
<div class="paragraph">
<p>The <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23palette">g:iced#palette</a> option allows you to customize the command palette.</p>
</div>
<div class="paragraph">
<p>In actual use, it is recommended to define the option in the project-specific configuration file by <a href="https://github.com/thinca/vim-localrc">vim-localrc</a> like follows.</p>
</div>
<div class="listingblock">
<div class="title">/path/to/your/project/root/.local.vimrc</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">let</span> <span class="nv">g:iced</span>#palette <span class="p">=</span> <span class="p">{</span>
<span class="se">      \</span> <span class="s1">'foo bar'</span><span class="p">:</span> <span class="s1">':IcedEval (+ 1 2 3 4 5)'</span><span class="p">,</span>
<span class="se">      \</span> <span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration_advanced">22.6. Advanced settings</h3>
<div class="sect3">
<h4 id="configuration_advanced_stdout_buffer">22.6.1. Stdout buffer</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23buffer%23stdout%23mods">g:iced#buffer#stdout#mods</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>''</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Buffer position definition.<br>
Following values are supported.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>vertical</code></p>
</li>
<li>
<p><code>leftabove</code></p>
</li>
<li>
<p><code>aboveleft</code></p>
</li>
<li>
<p><code>rightbelow</code></p>
</li>
<li>
<p><code>belowright</code></p>
</li>
<li>
<p><code>topleft</code></p>
</li>
<li>
<p><code>botright</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23buffer%23stdout%23file">g:iced#buffer#stdout#file</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>''</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If not empty, vim-iced write stdout buffer content to the file path.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23buffer%23stdout%23file_buffer_size">g:iced#buffer#stdout#file_buffer_size</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>256</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Max line count to buffer for <code>g:iced#buffer#stdout#filer</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23buffer%23stdout%23max_line">g:iced#buffer#stdout#max_line</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Max line count to keep in stdout buffer.<br>
If negative number is setted, it means no limit.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23buffer%23stdout%23deleting_line_delay">g:iced#buffer#stdout#deleting_line_delay</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1000</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Delay time for deleting excess lines in stdout buffer.<br>
Unit is milli sec.<br>
This option is enabled when <code>g:iced#buffer#stdout#max_line</code> is a positive number.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="configuration_advanced_document">22.6.2. Document</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Document buffer</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23buffer%23document%23mods">g:iced#buffer#document#mods</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>''</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Buffer position definition.<br>
Following values are supported.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>vertical</code></p>
</li>
<li>
<p><code>leftabove</code></p>
</li>
<li>
<p><code>aboveleft</code></p>
</li>
<li>
<p><code>rightbelow</code></p>
</li>
<li>
<p><code>belowright</code></p>
</li>
<li>
<p><code>topleft</code></p>
</li>
<li>
<p><code>botright</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23buffer%23document%23height">g:iced#buffer#document#height</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'previewheight'</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Document window height.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23buffer%23document%23does_update_automatically">g:iced#buffer#document#does_update_automatically</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v:false</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If <code>v:true</code> and document buffer is visible, update document buffer with document for the form under cursor.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Auto document</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_auto_document">g:iced_enable_auto_document</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'none'</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enable automatic displaying one-line document.<br>
This will be done by <a href="https://vim-jp.org/vimdoc-en/autocmd.html#CursorMoved">CursorMoved</a> / <a href="https://vim-jp.org/vimdoc-en/autocmd.html#CursorMovedI">CursorMovedI</a> auto command and <a href="https://vim-jp.org/vimdoc-en/eval.html#timer">timer</a>.<br>
<br>
The value should be one of <code>'normal'</code>, <code>'insert'</code> or <code>'any'</code>.<br>
Otherwise, this option will be disabled.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>'normal'</code>: Enabled on only normal mode.</p>
</li>
<li>
<p><code>'insert'</code>: Enabled on only insert mode.</p>
</li>
<li>
<p><code>'every'</code> : Enabled on normal and insert mode.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_popup_document">g:iced_enable_popup_document</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'every'</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Display documents on popup window.<br>
The value should be one of follows.<br>
Otherwise, this option will be disabled.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>'full'</code>    : Enabled on only full document.  <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedDocumentOpen">IcedDocumentOpen</a> shows full document.</p>
</li>
<li>
<p><code>'one-line'</code>: Enabled on only one-line document.</p>
</li>
<li>
<p><code>'every'</code>   : Every enabled.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_max_distance_for_auto_document">g:iced_max_distance_for_auto_document</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Max line distance to display one-line document.<br>
See also <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_auto_document">g:iced_enable_auto_document</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23nrepl%23auto%23document_delay">g:iced#nrepl#auto#document_delay</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>500</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Delay time for displaying one-line document.<br>
Unit is milli sec.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="configuration_advanced_clojure_script">22.6.3. ClojureScript</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23nrepl%23auto%23does_switch_session">g:iced#nrepl#auto#does_switch_session</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v:false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>v:true</code>, enable automatic switching CLJ/CLJS session.<br>
This will be done by <a href="https://vim-jp.org/vimdoc-en/autocmd.html#WinEnter">WinEnter</a> auto command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_enhanced_cljs_completion">g:iced_enable_enhanced_cljs_completion</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v:true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>v:true</code>, enable enhanced ClojureScript completion.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tips">23. Tips</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="tips_vim_submode">23.1. vim-submode</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><a href="https://github.com/kana/vim-submode">vim-submode</a> is a Vim plugin to provide the way to define "submodes" to the built-in <a href="https://vim-jp.org/vimdoc-en/intro.html#vim-modes">vim-modes</a>.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><a href="https://github.com/kana/vim-submode">vim-submode</a> is useful to repeat some commands such as <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedSlurp">IcedSlurp</a> or <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedBarf">IcedBarf</a>.</p>
</div>
<div class="listingblock">
<div class="title">Repeat slurping and barfing</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="c">" Change key mappings as you like.</span>
<span class="c">" In this case, type `&lt;LocalLeader&gt;kssss` to repeat slurping.</span>
<span class="k">call</span> submode#enter_with<span class="p">(</span><span class="s1">'slurp'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'&lt;LocalLeader&gt;ks'</span><span class="p">,</span> <span class="s1">':&lt;C-u&gt;IcedSlurp&lt;CR&gt;'</span><span class="p">)</span>
<span class="k">call</span> submode#enter_with<span class="p">(</span><span class="s1">'slurp'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'&lt;LocalLeader&gt;kb'</span><span class="p">,</span> <span class="s1">':&lt;C-u&gt;IcedBarf&lt;CR&gt;'</span><span class="p">)</span>
<span class="k">call</span> submode#leave_with<span class="p">(</span><span class="s1">'slurp'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'&lt;Esc&gt;'</span><span class="p">)</span>
<span class="k">call</span> submode#<span class="nb">map</span><span class="p">(</span><span class="s1">'slurp'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'s'</span><span class="p">,</span> <span class="s1">':&lt;C-u&gt;IcedSlurp&lt;CR&gt;'</span><span class="p">)</span>
<span class="k">call</span> submode#<span class="nb">map</span><span class="p">(</span><span class="s1">'slurp'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">':&lt;C-u&gt;IcedBarf&lt;CR&gt;'</span><span class="p">)</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Repeat jumping errors</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="c">" Change key mappings as you like.</span>
<span class="c">" In this case, type `&lt;LocalLeader&gt;nnnn` to repeat jumping next errors.</span>
<span class="k">call</span> submode#enter_with<span class="p">(</span><span class="s1">'sign_jump'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'&lt;LocalLeader&gt;n'</span><span class="p">,</span> <span class="s1">':&lt;C-u&gt;IcedJumpToNextError&lt;CR&gt;'</span><span class="p">)</span>
<span class="k">call</span> submode#enter_with<span class="p">(</span><span class="s1">'sign_jump'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'&lt;LocalLeader&gt;N'</span><span class="p">,</span> <span class="s1">':&lt;C-u&gt;IcedJumpToPrevError&lt;CR&gt;'</span><span class="p">)</span>
<span class="k">call</span> submode#leave_with<span class="p">(</span><span class="s1">'sign_jump'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'&lt;Esc&gt;'</span><span class="p">)</span>
<span class="k">call</span> submode#<span class="nb">map</span><span class="p">(</span><span class="s1">'sign_jump'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">':&lt;C-u&gt;IcedJumpToNextSign&lt;CR&gt;'</span><span class="p">)</span>
<span class="k">call</span> submode#<span class="nb">map</span><span class="p">(</span><span class="s1">'sign_jump'</span><span class="p">,</span> <span class="s1">'n'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span> <span class="s1">'N'</span><span class="p">,</span> <span class="s1">':&lt;C-u&gt;IcedJumpToPrevSign&lt;CR&gt;'</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tips_auto_connection">23.2. Auto connection</h3>
<div class="paragraph">
<p>If you&#8217;d like to connect to REPL automatically, define <a href="https://vim-jp.org/vimdoc-en/autocmd.html">autocmd</a> for <a href="https://vim-jp.org/vimdoc-en/autocmd.html#VimEnter">VimEnter</a> event.</p>
</div>
<div class="paragraph">
<p>It is recommended to define autocmd like follows in <a href="https://vim-jp.org/vimdoc-en/filetype.html#ftplugin-docs">ftplugin</a> directory.</p>
</div>
<div class="listingblock">
<div class="title">Example: $HOME/.vim/ftplugin/clojure.vim</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim">aug MyClojureSetting
  <span class="k">au</span><span class="p">!</span>
  <span class="k">au</span> <span class="nb">VimEnter</span> * IcedConnect
aug END</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you don&#8217;t want to connect to REPL for <code>project.clj</code>, <code>*.edn</code>, or etc, skip connecting as below.</p>
</div>
<div class="listingblock">
<div class="title">Example: $HOME/.vim/ftplugin/clojure.vim</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">function</span><span class="p">!</span> <span class="nv">s:auto_connect</span><span class="p">()</span> abort
  <span class="k">if</span> <span class="nb">expand</span><span class="p">(</span><span class="s1">'%:t'</span><span class="p">)</span> <span class="p">==</span># <span class="s1">'project.clj'</span> <span class="p">||</span> <span class="nb">expand</span><span class="p">(</span><span class="s1">'%:e'</span><span class="p">)</span> <span class="p">==</span># <span class="s1">'edn'</span>
    <span class="k">return</span>
  <span class="k">endif</span>
  IcedConnect
<span class="k">endfunction</span>

aug MyClojureSetting
  <span class="k">au</span><span class="p">!</span>
  <span class="k">au</span> <span class="nb">VimEnter</span> * <span class="k">call</span> <span class="nv">s:auto_connect</span><span class="p">()</span>
aug END</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tips_overwriting_mappings">23.3. Overwriting mappings</h3>
<div class="paragraph">
<p>vim-iced provides <a href="https://liquidz.github.io/vim-iced/vim-iced.html#vim-iced-customizing-default-keys">default key mappings</a>.
Since vim-iced will verify the mapping existence, if you would like to overwrite some key mappings, you could do as follows.</p>
</div>
<div class="listingblock">
<div class="title">Example: $HOME/.vim/ftplugin/clojure.vim</div>
<div class="content">
<pre class="rouge highlight"><code>nmap &lt;Leader&gt;em &lt;Plug&gt;(iced_eval_at_mark) <i class="conum" data-value="1"></i><b>(1)</b>
nmap &lt;Leader&gt;eM &lt;Plug&gt;(iced_macroexpand_1_outer_list) <i class="conum" data-value="2"></i><b>(2)</b>
nmap &lt;Nop&gt;(iced_macroexpand_outer_list) &lt;Plug&gt;(iced_macroexpand_outer_list) <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use <code>&lt;Leader&gt;em</code> for <code>iced_eval_at_mark</code> instead of <code>&lt;Leader&gt;ea</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Use <code>&lt;Leader&gt;eM</code> for <code>iced_macroexpand_1_outer_list</code> instead of <code>&lt;Leader&gt;em</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Disable default mapping <code>&lt;Leader&gt;eM</code> for <code>iced_macroexpand_outer_list</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_reloaded_workflows">23.4. Reloaded workflows</h3>
<div class="paragraph">
<p>If you are managing lifecycle of components with <a href="https://github.com/stuartsierra/component">Stuart Sierra&#8217;s component</a>, <a href="https://github.com/weavejester/integrant">integrant</a> or etc, following configurations are useful.</p>
</div>
<div class="sect3">
<h4 id="_cider_way">23.4.1. CIDER way</h4>
<div class="paragraph">
<p>vim-iced provides <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedRefresh">IcedRefresh</a> command as same as the <a href="https://docs.cider.mx/cider/usage/misc_features.html#reloading-code">cider-ns-refresh</a> feature.
And it also support before/after hooks like follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">let</span> <span class="nv">g:iced</span>#nrepl#ns#refresh_before_fn <span class="p">=</span> <span class="s1">'user/stop'</span>
<span class="k">let</span> <span class="nv">g:iced</span>#nrepl#ns#refresh_after_fn <span class="p">=</span> <span class="s1">'user/start'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With this configuration, you can insert executions of functions before and after refreshing files when you execute <a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedRefresh">IcedRefresh</a> command.</p>
</div>
</div>
<div class="sect3">
<h4 id="_manual_way">23.4.2. Manual way</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim">aug MyClojureSetting
  <span class="k">au</span><span class="p">!</span>
  <span class="c">" Change key mappings and forms as you like</span>
  <span class="k">au</span> <span class="nb">FileType</span> clojure nnoremap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">go</span> <span class="p">:&lt;</span>C<span class="p">-</span><span class="k">u</span><span class="p">&gt;</span>IcedEval <span class="p">(</span>user/<span class="k">go</span><span class="p">)&lt;</span>CR<span class="p">&gt;</span>
  <span class="k">au</span> <span class="nb">FileType</span> clojure nnoremap <span class="p">&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>Go <span class="p">:&lt;</span>C<span class="p">-</span><span class="k">u</span><span class="p">&gt;</span>IcedEval <span class="p">(</span>user/reset<span class="p">)&lt;</span>CR<span class="p">&gt;</span>
aug END</code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="external_integration">24. External integration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="kaocha">24.1. kaocha</h3>
<div class="paragraph">
<p><a href="https://github.com/lambdaisland/kaocha">kaocha</a> is full featured next gen Clojure test runner.</p>
</div>
<div class="paragraph">
<p>vim-iced has a external plugin named <a href="https://github.com/liquidz/vim-iced-kaocha">vim-iced-kaocha</a> to integrate with <a href="https://github.com/lambdaisland/kaocha">kaocha</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:IcedKaochaTest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run tests specified by <code>{ids}</code>.<br>
<code>{ids}</code> must be an array of testable-id.<br>
See <a href="https://cljdoc.org/d/lambdaisland/kaocha/CURRENT/doc/6-focusing-and-skipping#on-id">kaocha document</a> for testable-id.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:IcedKaochaTestUnderCursor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run a test under cursor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:IcedKaochaTestNs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run tests in current namespace.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:IcedKaochaTestAll</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run all tests in current project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:IcedKaochaTestRedo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Re run failed tests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">:IcedKaochaTestRerunLast</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run last test again.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_usage">24.1.1. Usage</h4>
<div class="paragraph">
<p>First, add <a href="https://github.com/liquidz/vim-iced-kaocha">vim-iced-kaocha</a> to your vim-plug section.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">call</span> plug#begin<span class="p">(</span><span class="s1">'~/.vim/plugged'</span><span class="p">)</span>

Plug <span class="s1">'liquidz/vim-iced'</span><span class="p">,</span> <span class="p">{</span><span class="s1">'for'</span><span class="p">:</span> <span class="s1">'clojure'</span><span class="p">}</span>
<span class="c">" Add this line &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
Plug <span class="s1">'liquidz/vim-iced-kaocha'</span>
<span class="c">" &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>

<span class="k">call</span> plug#end<span class="p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, launch your REPL with <code>--with-kaocha</code> option.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>iced repl <span class="nt">--with-kaocha</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Key mapping example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim">aug MyClojureSetting
  <span class="k">au</span><span class="p">!</span>
  <span class="c">" Change key mappings as you like.</span>
  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ktt <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_kaocha_test_under_cursor<span class="p">)</span>
  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ktn <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_kaocha_test_ns<span class="p">)</span>
  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ktr <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_kaocha_test_redo<span class="p">)</span>
  <span class="k">au</span> <span class="nb">FileType</span> clojure nmap <span class="p">&lt;</span><span class="k">silent</span><span class="p">&gt;&lt;</span><span class="k">buffer</span><span class="p">&gt;</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span>ktl <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>iced_kaocha_test_rerun_last<span class="p">)</span>
aug END</code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="socket_repl">25. Socket REPL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>vim-iced targets <a href="https://nrepl.org/">nREPL</a> mainly, but now will also support minimal operations on socket REPL.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Socket REPL supports</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature</th>
<th class="tableblock halign-left valign-top">Supports?</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#evaluation">Evaluation</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon green"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All ranges to evaluation are supported.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#completion">Completion</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon green"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="#reference">Reference</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon yellow"><i class="fa fa-exclamation-triangle"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only referring docstrings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Etc&#8230;&#8203;</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any other features are not supported.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>vim-iced provides following commands to connect socket REPL.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedConnectSocketRepl">IcedConnectSocketRepl</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make connection to socket REPL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://liquidz.github.io/vim-iced/vim-iced.html#%3AIcedConnectPrepl">IcedConnectPrepl</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make connection to pREPL.<br>
This connection is based on socket repl connection.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_connecting_socket_repl">25.1. Connecting socket REPL</h3>
<div class="paragraph">
<p>You can try socket REPL connection as follows.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Launch socket REPL via babashka</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tool</th>
<th class="tableblock halign-left valign-top">Command</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/borkdude/babashka">Babashka</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>$ bb --socket-repl 5555</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://joker-lang.org">Joker</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>$ joker --repl :5555</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://planck-repl.org">Planck</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>$ planck --socket-repl 5555</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/anmonteiro/lumo">Lumo</a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>$ lumo --socket-repl 5555</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Connect to socket REPL</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="p">:</span>IcedConnectSocketRepl <span class="m">5555</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Another way, you can launch socket REPL with random empty port internally.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="p">:</span>IcedInstantConnect babashka</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you&#8217;d like to use nREPL server instead of Socket REPL,
you use <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced%23repl%23babashka_repl_type">g:iced#repl#babashka_repl_type</a> option.</p>
</div>
</div>
<div class="sect2">
<h3 id="_connecting_prepl">25.2. Connecting pREPL</h3>
<div class="paragraph">
<p>pREPL connection is based on socket REPL connection in vim-iced.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><a href="https://github.com/borkdude/jet">borkdude/jet</a> is required currently.<br>
vim-iced can download <code>jet</code> automatically if you want.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can try pREPL connection as follows.</p>
</div>
<div class="listingblock">
<div class="title">Launch pREPL</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>clj <span class="nt">-J-Dclojure</span>.server.repl<span class="o">=</span><span class="s2">"{:port 5555 :accept clojure.core.server/io-prepl}"</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Connect to pREPL</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="p">:</span>IcedConnectPrepl <span class="m">5555</span></code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="developer">26. Developer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="minimal_configuration">26.1. Minimal configuration</h3>
<div class="paragraph">
<p>Minimal configuration is useful for debugging.
If you find an unexpected behavior, please try this configuration.</p>
</div>
<div class="listingblock">
<div class="title">Setup</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">mkdir</span> <span class="nt">-p</span> /tmp/vim-iced-test/pack/iced/start
<span class="nv">$ </span>git clone https://github.com/guns/vim-sexp <span class="se">\</span>
    /tmp/vim-iced-test/pack/iced/start/vim-sexp
<span class="nv">$ </span>git clone https://github.com/liquidz/vim-iced <span class="se">\</span>
    /tmp/vim-iced-test/pack/iced/start/vim-iced</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">test_config.vim</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="vim"><span class="k">set</span> <span class="nb">nocompatible</span>
<span class="k">set</span> <span class="nb">encoding</span><span class="p">=</span>utf<span class="m">-8</span>
<span class="k">scriptencoding</span> utf<span class="m">-8</span>
<span class="k">filetype</span> plugin <span class="nb">indent</span> <span class="k">on</span>

<span class="k">set</span> <span class="nb">runtimepath</span><span class="p">-=</span>$HOME/<span class="p">.</span><span class="k">vim</span>
<span class="k">set</span> <span class="nb">runtimepath</span><span class="p">-=</span>$HOME<span class="sr">/.vim/</span>after
<span class="k">set</span> <span class="nb">runtimepath</span><span class="p">-=</span>$HOME<span class="sr">/.config/</span>nvim
<span class="k">set</span> <span class="nb">runtimepath</span><span class="p">-=</span>$HOME<span class="sr">/.config/</span>nvim/after
<span class="k">set</span> <span class="nb">runtimepath</span><span class="p">-=</span>$HOME<span class="sr">/.local/</span>share<span class="sr">/nvim/</span>site
<span class="k">set</span> <span class="nb">runtimepath</span><span class="p">-=</span>$HOME<span class="sr">/.local/</span>share<span class="sr">/nvim/</span>site/after

<span class="k">set</span> <span class="nb">packpath</span><span class="p">=</span><span class="sr">/tmp/</span><span class="k">vim</span><span class="p">-</span>iced<span class="p">-</span>test</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Lanuch Vim/Neovim</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Vim</span>
<span class="nv">$ </span>vim <span class="nt">-u</span> /path/to/test_config.vim /path/to/your/project/code.clj

<span class="c"># Neovim</span>
<span class="nv">$ </span>nvim <span class="nt">-u</span> /path/to/test_config.vim /path/to/your/project/code.clj</code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
<div class="sect2">
<h3 id="testing_vim_iced">26.2. Testing vim-iced</h3>
<div class="paragraph">
<p>vim-iced uses <a href="https://github.com/thinca/vim-themis">vim-themis</a> as a test runner.</p>
</div>
<div class="sect3">
<h4 id="_run_tests_on_docker">26.2.1. Run tests on docker</h4>
<div class="paragraph">
<p>The easiest way to run tests is the way using docker.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Run vimscript test for vim</span>
<span class="nv">$ </span>make docker_themis

<span class="c"># Run vimscript test for neovim</span>
<span class="nv">$ </span>make docker_neovim_themis</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you would like to filter test cases, use <code>--target</code> option for <a href="https://github.com/thinca/vim-themis">vim-themis</a>.
Please refer to the argument of <code>themis#suite</code> in the first line of each test for the string to be specified for <code>--target</code>.</p>
</div>
<div class="paragraph">
<p>For example, execute the following command to run test cases only for <code>iced#nrepl#eval</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="nt">-v</span> <span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span>:/root <span class="se">\</span>
      <span class="nt">--entrypoint</span> <span class="s1">'./.vim-themis/bin/themis'</span> uochan/vim:latest <span class="se">\</span>
      <span class="nt">--target</span> <span class="s1">'iced\.nrepl\.eval '</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_run_tests_locally">26.2.2. Run tests locally</h4>
<div class="paragraph">
<p>You can also run tests locally.
The following <code>make</code> rule will clone <a href="https://github.com/thinca/vim-themis">vim-themis</a> and run tests.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Run vimscript test</span>
<span class="nv">$ </span>make themis

<span class="c"># Run all tests</span>
<span class="nv">$ </span>make <span class="nb">test</span>

<span class="c"># Once you clone vim-themis, you can specify `--target` like below</span>
<span class="nv">$ </span>./.vim-themis/bin/themis <span class="se">\</span>
      <span class="nt">--target</span> <span class="s1">'iced\.nrepl\.eval '</span></code></pre>
</div>
</div>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cheatsheet">27. Cheatsheet</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Based on default key mappings.<br>
See <a href="https://liquidz.github.io/vim-iced/vim-iced.html#g%3Aiced_enable_default_key_mappings">help file</a> for whole default key mappings.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Connection</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make connection to nREPL</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong><a href="#formatting">Formatting</a></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">==</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reformat the form under cursor</p></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><a href="#evaluation">Evaluation</a></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ee</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluate outer list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;et</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluate outer top list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;eb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Require current namespace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;eq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interrupt code evaluation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;enr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reload all changed files</p></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><a href="#macro">Macro</a></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;em</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluate <code>macroexpand-1</code> for outer list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;eM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Evaluate <code>macroexpand</code> for outer list</p></td>
</tr>
</tbody>
</table></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><a href="#testing">Testing</a></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;tt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run test under cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;tn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run tests in current namespace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;tr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Re run failed tests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;tl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Re run last test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;tp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run all tests</p></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><a href="#navigation">Navigation</a></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;C-]&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jump cursor to the definition of symbol under cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;C-t&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jump back cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;bn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Browse namespaces related to the current namespace</p></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><a href="#reference">Reference</a></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">K</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show documents for the symbol under cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;hs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show source for the symbol under cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;hq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Close document buffer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;bs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Browse specs</p></td>
</tr>
</tbody>
</table></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong><a href="#refactoring">Refactoring</a></strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rcn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clean namespace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ran</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add <a href="https://clojuredocs.org/clojure.core/ns"><code>ns</code></a> to require form</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add missing libspec</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;ref</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extract the form under cursor as a function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;raa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add another arity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rtf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert form to use <a href="https://clojuredocs.org/clojure.core/-%3E"><code>-&gt;</code></a> threading macro.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rtl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convert form to use <a href="https://clojuredocs.org/clojure.core/-%3E%3E"><code>-&gt;&gt;</code></a> threading macro</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move the form under cursor to nearest <a href="https://clojuredocs.org/clojure.core/let"><code>let</code></a> binding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;rrs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rename all occurrences of the symbol under cursor.</p></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Others</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;Leader&gt;hh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show command palette</p></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
<div class="paragraph text-right">
<p><span class="small"><a href="#top">Back to top</a></span></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-08-03 21:29:12 UTC
</div>
</div>
</body>
</html>